<div class="dashboard">
  <h1 class="dashboard__title">Dashboard</h1>

  <div class="dashboard__cards">
    <mat-card class="dashboard__card" *ngIf="stats$ | async as stats">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--skills">psychology</mat-icon>
        <mat-card-title>Skills</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Total Skills:</span>
          <span class="dashboard__stat-value">{{ stats.totalSkills }}</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Total Hours:</span>
          <span class="dashboard__stat-value">{{ stats.totalHours | number:'1.0-1' }}</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Avg Proficiency:</span>
          <span class="dashboard__stat-value">{{ stats.averageProficiency | number:'1.1-1' }}</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/skills">View Skills</button>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card" *ngIf="courseStats$ | async as courseStats">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--courses">school</mat-icon>
        <mat-card-title>Courses</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Total Courses:</span>
          <span class="dashboard__stat-value">{{ courseStats.totalCourses }}</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Completed:</span>
          <span class="dashboard__stat-value">{{ courseStats.completedCourses }}</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">In Progress:</span>
          <span class="dashboard__stat-value">{{ courseStats.inProgressCourses }}</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/courses">View Courses</button>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card" *ngIf="certificationStats$ | async as certStats">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--certifications">verified</mat-icon>
        <mat-card-title>Certifications</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Total Certifications:</span>
          <span class="dashboard__stat-value">{{ certStats.totalCertifications }}</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Active:</span>
          <span class="dashboard__stat-value">{{ certStats.activeCertifications }}</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/certifications">View Certifications</button>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card" *ngIf="learningPathStats$ | async as pathStats">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--paths">route</mat-icon>
        <mat-card-title>Learning Paths</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Total Paths:</span>
          <span class="dashboard__stat-value">{{ pathStats.totalPaths }}</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-label">Completed:</span>
          <span class="dashboard__stat-value">{{ pathStats.completedPaths }}</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/learning-paths">View Learning Paths</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
