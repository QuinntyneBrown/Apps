@startuml Project Management Architecture

!define RECTANGLE class

package "Presentation Layer" {
    [Web App] as WebApp
    [Mobile App] as MobileApp
}

package "API Layer" {
    [Project API] as ProjectAPI
    [Milestone API] as MilestoneAPI
}

package "Application Layer" {
    [Project Service] as ProjectService
    [Milestone Service] as MilestoneService
    [Event Publisher] as EventPublisher
}

package "Domain Layer" {
    [RestorationProject] as Project
    [ProjectScope] as Scope
    [Milestone] as Milestone
    [Domain Events] as Events
}

package "Infrastructure Layer" {
    [SQL Server] as DB
    [Event Bus] as EventBus
    [File Storage] as Storage
}

WebApp --> ProjectAPI
MobileApp --> ProjectAPI
ProjectAPI --> ProjectService
MilestoneAPI --> MilestoneService

ProjectService --> Project
ProjectService --> Scope
MilestoneService --> Milestone
ProjectService --> EventPublisher
MilestoneService --> EventPublisher

Project --> Events
EventPublisher --> EventBus
ProjectService --> DB
MilestoneService --> DB
ProjectService --> Storage

@enduml
