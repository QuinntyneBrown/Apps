<div class="page">
  <div class="page__header">
    <h1 class="page__title">Dashboard</h1>
  </div>

  <div class="page__content" *ngIf="stats$ | async as stats; else loading">
    <div class="dashboard__stats">
      <mat-card class="dashboard__stat-card">
        <mat-card-content>
          <mat-icon class="dashboard__stat-icon" color="primary">list_alt</mat-icon>
          <div class="dashboard__stat-value">{{ stats.totalRegistries }}</div>
          <div class="dashboard__stat-label">Total Registries</div>
          <div class="dashboard__stat-sub">{{ stats.activeRegistries }} active</div>
        </mat-card-content>
        <mat-card-actions>
          <a mat-button routerLink="/registries" color="primary">View All</a>
        </mat-card-actions>
      </mat-card>

      <mat-card class="dashboard__stat-card">
        <mat-card-content>
          <mat-icon class="dashboard__stat-icon" color="accent">inventory_2</mat-icon>
          <div class="dashboard__stat-value">{{ stats.totalItems }}</div>
          <div class="dashboard__stat-label">Registry Items</div>
          <div class="dashboard__stat-sub">{{ stats.fulfilledItems }} fulfilled</div>
        </mat-card-content>
        <mat-card-actions>
          <a mat-button routerLink="/registry-items" color="primary">View All</a>
        </mat-card-actions>
      </mat-card>

      <mat-card class="dashboard__stat-card">
        <mat-card-content>
          <mat-icon class="dashboard__stat-icon" style="color: #4caf50">volunteer_activism</mat-icon>
          <div class="dashboard__stat-value">{{ stats.totalContributions }}</div>
          <div class="dashboard__stat-label">Contributions</div>
          <div class="dashboard__stat-sub">Thank you!</div>
        </mat-card-content>
        <mat-card-actions>
          <a mat-button routerLink="/contributions" color="primary">View All</a>
        </mat-card-actions>
      </mat-card>
    </div>

    <div class="dashboard__actions">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Quick Actions</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="dashboard__action-buttons">
            <button mat-raised-button color="primary" routerLink="/registries">
              <mat-icon>add</mat-icon>
              Create Registry
            </button>
            <button mat-raised-button routerLink="/registry-items">
              <mat-icon>inventory_2</mat-icon>
              Add Items
            </button>
            <button mat-raised-button routerLink="/contributions">
              <mat-icon>volunteer_activism</mat-icon>
              View Contributions
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <ng-template #loading>
    <div class="dashboard__loading">
      <mat-spinner></mat-spinner>
    </div>
  </ng-template>
</div>
