<mat-card class="registry-item-card" [class.registry-item-card--fulfilled]="item.isFulfilled">
  <mat-card-header class="registry-item-card__header">
    <mat-card-title class="registry-item-card__title">{{ item.name }}</mat-card-title>
    <mat-card-subtitle class="registry-item-card__subtitle" *ngIf="item.price">
      ${{ item.price | number:'1.2-2' }}
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content class="registry-item-card__content">
    <div class="registry-item-card__description" *ngIf="item.description">
      {{ item.description }}
    </div>

    <div class="registry-item-card__info" *ngIf="item.url">
      <mat-icon class="registry-item-card__info-icon">link</mat-icon>
      <a [href]="item.url" target="_blank" class="registry-item-card__link">View Product</a>
    </div>

    <div class="registry-item-card__quantity">
      <div class="registry-item-card__quantity-text">
        <span>{{ item.quantityReceived }} / {{ item.quantityDesired }}</span>
        <span class="registry-item-card__quantity-label">received</span>
      </div>
      <mat-progress-bar
        mode="determinate"
        [value]="getProgressPercentage()"
        [color]="item.isFulfilled ? 'accent' : 'primary'">
      </mat-progress-bar>
    </div>

    <div class="registry-item-card__meta">
      <mat-chip-set>
        <mat-chip [class.registry-item-card__priority--high]="item.priority === Priority.High || item.priority === Priority.MustHave">
          {{ getPriorityLabel(item.priority) }}
        </mat-chip>
        <mat-chip *ngIf="item.isFulfilled" highlighted>Fulfilled</mat-chip>
      </mat-chip-set>
    </div>
  </mat-card-content>

  <mat-card-actions class="registry-item-card__actions">
    <button mat-button color="primary" (click)="onContribute()" [disabled]="item.isFulfilled">
      <mat-icon>volunteer_activism</mat-icon>
      Contribute
    </button>
    <button mat-button (click)="onEdit()">
      <mat-icon>edit</mat-icon>
      Edit
    </button>
    <button mat-button color="warn" (click)="onDelete()">
      <mat-icon>delete</mat-icon>
      Delete
    </button>
  </mat-card-actions>
</mat-card>
