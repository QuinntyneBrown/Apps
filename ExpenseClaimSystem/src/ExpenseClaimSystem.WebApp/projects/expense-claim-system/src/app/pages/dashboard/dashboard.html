<div class="dashboard" *ngIf="viewModel$ | async as vm">
  <div class="dashboard__header">
    <h1 class="dashboard__title">Dashboard</h1>
  </div>

  <div class="dashboard__stats">
    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <div class="dashboard__stat-icon">
          <mat-icon color="primary">receipt_long</mat-icon>
        </div>
        <div class="dashboard__stat-content">
          <div class="dashboard__stat-value">{{ vm.totalClaims }}</div>
          <div class="dashboard__stat-label">Total Claims</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <div class="dashboard__stat-icon">
          <mat-icon color="accent">people</mat-icon>
        </div>
        <div class="dashboard__stat-content">
          <div class="dashboard__stat-value">{{ vm.totalEmployees }}</div>
          <div class="dashboard__stat-label">Employees</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <div class="dashboard__stat-icon">
          <mat-icon color="primary">category</mat-icon>
        </div>
        <div class="dashboard__stat-content">
          <div class="dashboard__stat-value">{{ vm.totalCategories }}</div>
          <div class="dashboard__stat-label">Categories</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <div class="dashboard__stat-icon">
          <mat-icon color="accent">attach_money</mat-icon>
        </div>
        <div class="dashboard__stat-content">
          <div class="dashboard__stat-value">{{ vm.totalAmount | currency }}</div>
          <div class="dashboard__stat-label">Total Approved</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <div class="dashboard__stat-icon">
          <mat-icon color="warn">pending</mat-icon>
        </div>
        <div class="dashboard__stat-content">
          <div class="dashboard__stat-value">{{ vm.pendingAmount | currency }}</div>
          <div class="dashboard__stat-label">Pending Amount</div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="dashboard__section">
    <div class="dashboard__section-header">
      <h2 class="dashboard__section-title">Pending Claims</h2>
      <a mat-button color="primary" routerLink="/expense-claims">View All</a>
    </div>
    <div class="dashboard__cards" *ngIf="vm.pendingClaims.length > 0; else noPendingClaims">
      <app-expense-claim-card
        *ngFor="let claim of vm.pendingClaims"
        [expenseClaim]="claim"
      ></app-expense-claim-card>
    </div>
    <ng-template #noPendingClaims>
      <p class="dashboard__empty">No pending claims</p>
    </ng-template>
  </div>

  <div class="dashboard__section">
    <div class="dashboard__section-header">
      <h2 class="dashboard__section-title">Recent Claims</h2>
      <a mat-button color="primary" routerLink="/expense-claims">View All</a>
    </div>
    <div class="dashboard__cards" *ngIf="vm.recentClaims.length > 0; else noRecentClaims">
      <app-expense-claim-card
        *ngFor="let claim of vm.recentClaims"
        [expenseClaim]="claim"
      ></app-expense-claim-card>
    </div>
    <ng-template #noRecentClaims>
      <p class="dashboard__empty">No recent claims</p>
    </ng-template>
  </div>
</div>
