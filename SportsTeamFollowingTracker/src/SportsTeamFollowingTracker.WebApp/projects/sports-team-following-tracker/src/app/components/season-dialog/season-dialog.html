<h2 mat-dialog-title class="season-dialog__title">{{ data?.season ? 'Edit Season' : 'Add Season' }}</h2>
<mat-dialog-content class="season-dialog__content">
  <form [formGroup]="seasonForm" class="season-dialog__form">
    <mat-form-field appearance="outline" class="season-dialog__field">
      <mat-label>Team</mat-label>
      <mat-select formControlName="teamId" required>
        <mat-option *ngFor="let team of teams$ | async" [value]="team.teamId">
          {{ team.name }} ({{ team.sport }})
        </mat-option>
      </mat-select>
      <mat-error *ngIf="seasonForm.get('teamId')?.hasError('required')">Team is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="season-dialog__field">
      <mat-label>Season Name</mat-label>
      <input matInput formControlName="seasonName" required>
      <mat-error *ngIf="seasonForm.get('seasonName')?.hasError('required')">Season name is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="season-dialog__field">
      <mat-label>Year</mat-label>
      <input matInput type="number" formControlName="year" required>
      <mat-error *ngIf="seasonForm.get('year')?.hasError('required')">Year is required</mat-error>
      <mat-error *ngIf="seasonForm.get('year')?.hasError('min')">Year must be at least 1900</mat-error>
      <mat-error *ngIf="seasonForm.get('year')?.hasError('max')">Year must be at most 2100</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="season-dialog__field">
      <mat-label>Wins</mat-label>
      <input matInput type="number" formControlName="wins" required>
      <mat-error *ngIf="seasonForm.get('wins')?.hasError('required')">Wins is required</mat-error>
      <mat-error *ngIf="seasonForm.get('wins')?.hasError('min')">Wins must be at least 0</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="season-dialog__field">
      <mat-label>Losses</mat-label>
      <input matInput type="number" formControlName="losses" required>
      <mat-error *ngIf="seasonForm.get('losses')?.hasError('required')">Losses is required</mat-error>
      <mat-error *ngIf="seasonForm.get('losses')?.hasError('min')">Losses must be at least 0</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="season-dialog__field">
      <mat-label>Notes</mat-label>
      <textarea matInput formControlName="notes" rows="3"></textarea>
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end" class="season-dialog__actions">
  <button mat-button (click)="onCancel()" class="season-dialog__button">Cancel</button>
  <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!seasonForm.valid" class="season-dialog__button">
    {{ data?.season ? 'Update' : 'Create' }}
  </button>
</mat-dialog-actions>
