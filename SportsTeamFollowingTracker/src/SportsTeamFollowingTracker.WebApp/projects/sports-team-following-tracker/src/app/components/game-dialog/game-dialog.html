<h2 mat-dialog-title class="game-dialog__title">{{ data?.game ? 'Edit Game' : 'Add Game' }}</h2>
<mat-dialog-content class="game-dialog__content">
  <form [formGroup]="gameForm" class="game-dialog__form">
    <mat-form-field appearance="outline" class="game-dialog__field">
      <mat-label>Team</mat-label>
      <mat-select formControlName="teamId" required>
        <mat-option *ngFor="let team of teams$ | async" [value]="team.teamId">
          {{ team.name }} ({{ team.sport }})
        </mat-option>
      </mat-select>
      <mat-error *ngIf="gameForm.get('teamId')?.hasError('required')">Team is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="game-dialog__field">
      <mat-label>Game Date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="gameDate" required>
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="gameForm.get('gameDate')?.hasError('required')">Game date is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="game-dialog__field">
      <mat-label>Opponent</mat-label>
      <input matInput formControlName="opponent" required>
      <mat-error *ngIf="gameForm.get('opponent')?.hasError('required')">Opponent is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="game-dialog__field">
      <mat-label>Team Score</mat-label>
      <input matInput type="number" formControlName="teamScore">
    </mat-form-field>

    <mat-form-field appearance="outline" class="game-dialog__field">
      <mat-label>Opponent Score</mat-label>
      <input matInput type="number" formControlName="opponentScore">
    </mat-form-field>

    <mat-form-field appearance="outline" class="game-dialog__field">
      <mat-label>Notes</mat-label>
      <textarea matInput formControlName="notes" rows="3"></textarea>
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end" class="game-dialog__actions">
  <button mat-button (click)="onCancel()" class="game-dialog__button">Cancel</button>
  <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!gameForm.valid" class="game-dialog__button">
    {{ data?.game ? 'Update' : 'Create' }}
  </button>
</mat-dialog-actions>
