<mat-card class="reading-card" [class.reading-card--critical]="reading.isCritical">
  <mat-card-header class="reading-card__header">
    <mat-card-title class="reading-card__title">
      <div class="reading-card__bp-values">
        <span class="reading-card__systolic">{{ reading.systolic }}</span>
        <span class="reading-card__separator">/</span>
        <span class="reading-card__diastolic">{{ reading.diastolic }}</span>
        <span class="reading-card__unit">mmHg</span>
      </div>
      @if (reading.pulse) {
        <div class="reading-card__pulse">
          <mat-icon class="reading-card__pulse-icon">favorite</mat-icon>
          <span>{{ reading.pulse }} bpm</span>
        </div>
      }
    </mat-card-title>
    <div class="reading-card__actions">
      <button mat-icon-button (click)="onEdit()" aria-label="Edit reading">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button (click)="onDelete()" aria-label="Delete reading">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </mat-card-header>
  <mat-card-content class="reading-card__content">
    <div class="reading-card__category-container">
      <mat-chip-set>
        <mat-chip [class]="getCategoryClass(reading.category)">
          {{ getCategoryLabel(reading.category) }}
        </mat-chip>
        @if (reading.isCritical) {
          <mat-chip class="reading-card__critical-chip">
            <mat-icon>warning</mat-icon>
            Critical
          </mat-chip>
        }
      </mat-chip-set>
    </div>
    <div class="reading-card__details">
      <div class="reading-card__detail">
        <mat-icon class="reading-card__detail-icon">event</mat-icon>
        <span>{{ reading.measuredAt | date: 'short' }}</span>
      </div>
      @if (reading.position) {
        <div class="reading-card__detail">
          <mat-icon class="reading-card__detail-icon">airline_seat_recline_normal</mat-icon>
          <span>{{ reading.position }}</span>
        </div>
      }
      @if (reading.arm) {
        <div class="reading-card__detail">
          <mat-icon class="reading-card__detail-icon">back_hand</mat-icon>
          <span>{{ reading.arm }} arm</span>
        </div>
      }
    </div>
    @if (reading.notes) {
      <div class="reading-card__notes">
        <mat-icon class="reading-card__notes-icon">note</mat-icon>
        <span>{{ reading.notes }}</span>
      </div>
    }
  </mat-card-content>
</mat-card>
