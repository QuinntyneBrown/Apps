@startuml Pattern Analysis Use Cases

skinparam usecase {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}

left to right direction

actor "User" as user
actor "Analysis Service" as analysis
actor "Notification Service" as notif

rectangle "Pattern Analysis" {
    usecase "View Pattern Insights" as UC1
    usecase "Filter Patterns" as UC1a
    usecase "Export Pattern Report" as UC1b

    usecase "View Optimal Session Length" as UC2
    usecase "Apply Session Length Recommendation" as UC2a
    usecase "Track Success Rates" as UC2b

    usecase "View Peak Focus Times" as UC3
    usecase "Schedule Session at Peak Time" as UC3a
    usecase "View Daily Heatmap" as UC3b

    usecase "View Distraction Patterns" as UC4
    usecase "Apply Mitigation Strategy" as UC4a
    usecase "Mark Pattern Resolved" as UC4b
    usecase "Track Distraction Sources" as UC4c

    usecase "View Productivity Trends" as UC5
    usecase "Compare Trend Periods" as UC5a
    usecase "Identify Contributing Factors" as UC5b

    usecase "Manage Insights" as UC6
    usecase "Dismiss Insight" as UC6a
    usecase "Take Recommended Action" as UC6b

    usecase "Trigger Pattern Analysis" as UC7
    usecase "Detect Optimal Length" as UC7a
    usecase "Detect Peak Times" as UC7b
    usecase "Identify Distractions" as UC7c
    usecase "Detect Trends" as UC7d

    usecase "Send Pattern Notification" as UC8
    usecase "Generate Weekly Report" as UC9
    usecase "Validate Data Sufficiency" as UC10
}

user --> UC1
UC1 ..> UC1a : extends
UC1 ..> UC1b : extends

user --> UC2
UC2 ..> UC2a : extends
UC2 ..> UC2b : includes

user --> UC3
UC3 ..> UC3a : extends
UC3 ..> UC3b : includes

user --> UC4
UC4 ..> UC4a : extends
UC4 ..> UC4b : extends
UC4 ..> UC4c : includes

user --> UC5
UC5 ..> UC5a : extends
UC5 ..> UC5b : includes

user --> UC6
UC6 ..> UC6a : extends
UC6 ..> UC6b : extends

user --> UC7
UC7 ..> UC7a : includes
UC7 ..> UC7b : includes
UC7 ..> UC7c : includes
UC7 ..> UC7d : includes
UC7 ..> UC10 : includes

analysis --> UC7 : scheduled
analysis --> UC9
analysis --> UC10

UC2 ..> UC8 : triggers
UC3 ..> UC8 : triggers
UC4 ..> UC8 : triggers
UC5 ..> UC8 : triggers

notif --> UC8

@enduml
