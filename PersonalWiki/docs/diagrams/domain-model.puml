@startuml PersonalWiki_Domain
class WikiPage {
    +Guid Id
    +string Title
    +string Content
    +Guid NamespaceId
    +int CurrentVersion
    +DateTime CreatedAt
    +DateTime LastModified
    --
    +Update()
    +CreateVersion()
    +Rename()
}

class PageVersion {
    +Guid Id
    +Guid PageId
    +int VersionNumber
    +string Content
    +string EditSummary
    +Guid EditorId
    +DateTime CreatedAt
}

class WikiLink {
    +Guid Id
    +Guid SourcePageId
    +Guid TargetPageId
    +string LinkText
    +bool IsBroken
}

class Namespace {
    +Guid Id
    +string Name
    +Guid? ParentId
    +int PageCount
}

class Category {
    +Guid Id
    +string Name
    +List<Guid> PageIds
}

class Template {
    +Guid Id
    +string Name
    +string Content
    +int UsageCount
    --
    +Apply()
}

class Attachment {
    +Guid Id
    +string FileName
    +string FileType
    +long FileSize
    +Guid? PageId
}

WikiPage "1" --> "*" PageVersion : has
WikiPage "*" --> "1" Namespace : belongs to
WikiPage "*" --> "*" Category : categorized by
WikiPage "1" --> "*" WikiLink : source of
WikiPage "1" <-- "*" WikiLink : target of
WikiPage "*" --> "*" Attachment : has
Template "1" --> "*" WikiPage : generates

@enduml
