@startuml Page_Lifecycle
[*] --> Draft : Create Page

state Draft {
    [*] --> Editing
    Editing --> AutoSaving : Every 30s
    AutoSaving --> Editing : Saved
    Editing --> Previewing : Preview
    Previewing --> Editing : Continue Edit
}

Draft --> Published : Publish
Published --> Editing : Edit
Published --> Deleted : Delete

state Deleted {
    [*] --> SoftDeleted
    SoftDeleted --> PermanentlyDeleted : After 30 days
}

Deleted --> Published : Restore

Published --> Renamed : Rename
Renamed --> Published : Redirect Created

Published --> Versioned : Create Version
state Versioned {
    [*] --> v1
    v1 --> v2 : Edit
    v2 --> v3 : Edit
    v3 --> [*]
}

Versioned --> Published : View Current

@enduml
