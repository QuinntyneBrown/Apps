<div class="tax-lot-detail" *ngIf="taxLot$ | async as taxLot">
  <div class="tax-lot-detail__header">
    <button mat-icon-button routerLink="/tax-lots" class="tax-lot-detail__back-button">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1 class="tax-lot-detail__title">Tax Lot Details</h1>
  </div>

  <mat-card class="tax-lot-detail__card">
    <mat-card-header>
      <mat-card-title>Tax Lot Information</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="tax-lot-detail__info-grid">
        <div class="tax-lot-detail__info-item">
          <span class="tax-lot-detail__info-label">Acquisition Date:</span>
          <span class="tax-lot-detail__info-value">{{ taxLot.acquisitionDate | date:'medium' }}</span>
        </div>
        <div class="tax-lot-detail__info-item">
          <span class="tax-lot-detail__info-label">Quantity:</span>
          <span class="tax-lot-detail__info-value">{{ taxLot.quantity }}</span>
        </div>
        <div class="tax-lot-detail__info-item">
          <span class="tax-lot-detail__info-label">Cost Basis:</span>
          <span class="tax-lot-detail__info-value">{{ taxLot.costBasis | currency }}</span>
        </div>
        <div class="tax-lot-detail__info-item">
          <span class="tax-lot-detail__info-label">Status:</span>
          <span class="tax-lot-detail__info-value">
            <span [class.tax-lot-detail__status--disposed]="taxLot.isDisposed"
                  [class.tax-lot-detail__status--active]="!taxLot.isDisposed"
                  class="tax-lot-detail__status">
              {{ taxLot.isDisposed ? 'Disposed' : 'Active' }}
            </span>
          </span>
        </div>
        <div class="tax-lot-detail__info-item" *ngIf="taxLot.disposalDate">
          <span class="tax-lot-detail__info-label">Disposal Date:</span>
          <span class="tax-lot-detail__info-value">{{ taxLot.disposalDate | date:'medium' }}</span>
        </div>
        <div class="tax-lot-detail__info-item" *ngIf="taxLot.disposalPrice !== null && taxLot.disposalPrice !== undefined">
          <span class="tax-lot-detail__info-label">Disposal Price:</span>
          <span class="tax-lot-detail__info-value">{{ taxLot.disposalPrice | currency }}</span>
        </div>
        <div class="tax-lot-detail__info-item" *ngIf="taxLot.realizedGainLoss !== null && taxLot.realizedGainLoss !== undefined">
          <span class="tax-lot-detail__info-label">Realized Gain/Loss:</span>
          <span class="tax-lot-detail__info-value tax-lot-detail__info-value--highlight"
                [class.tax-lot-detail__gain]="taxLot.realizedGainLoss > 0"
                [class.tax-lot-detail__loss]="taxLot.realizedGainLoss < 0">
            {{ taxLot.realizedGainLoss | currency }}
          </span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
