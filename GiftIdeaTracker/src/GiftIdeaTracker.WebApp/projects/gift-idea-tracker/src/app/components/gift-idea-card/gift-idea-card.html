<mat-card class="gift-idea-card" [class.gift-idea-card--purchased]="giftIdea.isPurchased">
  <mat-card-header class="gift-idea-card__header">
    <mat-icon mat-card-avatar class="gift-idea-card__icon">{{ getOccasionIcon() }}</mat-icon>
    <mat-card-title>{{ giftIdea.name }}</mat-card-title>
    @if (giftIdea.recipient) {
      <mat-card-subtitle>For: {{ giftIdea.recipient.name }}</mat-card-subtitle>
    }
  </mat-card-header>

  <mat-card-content class="gift-idea-card__content">
    <div class="gift-idea-card__details">
      <mat-chip-set>
        <mat-chip [highlighted]="giftIdea.isPurchased">
          @if (giftIdea.isPurchased) {
            <mat-icon>check_circle</mat-icon>
            Purchased
          } @else {
            <mat-icon>pending</mat-icon>
            Not Purchased
          }
        </mat-chip>
        <mat-chip>
          <mat-icon>{{ getOccasionIcon() }}</mat-icon>
          {{ getOccasionLabel() }}
        </mat-chip>
      </mat-chip-set>

      <div class="gift-idea-card__price">
        <mat-icon>attach_money</mat-icon>
        <span>{{ formatPrice() }}</span>
      </div>
    </div>
  </mat-card-content>

  <mat-card-actions class="gift-idea-card__actions">
    @if (!giftIdea.isPurchased) {
      <button mat-button color="primary" (click)="onPurchaseClick()">
        <mat-icon>shopping_cart</mat-icon>
        Purchase
      </button>
    }
    <button mat-button (click)="onEditClick()">
      <mat-icon>edit</mat-icon>
      Edit
    </button>
    <button mat-button color="warn" (click)="onDeleteClick()">
      <mat-icon>delete</mat-icon>
      Delete
    </button>
  </mat-card-actions>
</mat-card>
