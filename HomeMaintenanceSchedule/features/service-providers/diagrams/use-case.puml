@startuml Service Providers - Use Case Diagram

left to right direction
skinparam packageStyle rectangle

actor "Homeowner" as homeowner
actor "Property Manager" as manager
actor "Service Provider" as provider
actor "System" as system

rectangle "Service Provider Management" {
    ' Provider Management
    usecase "Add Service Provider" as UC1
    usecase "Edit Provider Info" as UC2
    usecase "Delete Provider" as UC3
    usecase "View Provider Directory" as UC4
    usecase "View Provider Details" as UC5
    usecase "Search Providers" as UC6
    usecase "Filter Providers" as UC7
    usecase "Mark as Preferred" as UC8
    usecase "Deactivate Provider" as UC9

    ' Service History
    usecase "Record Service" as UC10
    usecase "View Service History" as UC11
    usecase "Update Service Record" as UC12
    usecase "Upload Invoice" as UC13
    usecase "Add Service Photos" as UC14

    ' Ratings & Reviews
    usecase "Rate Service Provider" as UC15
    usecase "Write Review" as UC16
    usecase "View All Reviews" as UC17
    usecase "Calculate Average Rating" as UC18

    ' Provider Analytics
    usecase "View Provider Statistics" as UC19
    usecase "Compare Providers" as UC20
    usecase "View Cost Trends" as UC21
    usecase "Generate Provider Report" as UC22

    ' Contact & Communication
    usecase "Call Provider" as UC23
    usecase "Email Provider" as UC24
    usecase "View Contact Info" as UC25

    ' Task Assignment
    usecase "Assign Provider to Task" as UC26
    usecase "View Assigned Tasks" as UC27

    ' Export & Import
    usecase "Export Provider Directory" as UC28
    usecase "Import Provider Contacts" as UC29
}

' Homeowner relationships
homeowner --> UC1
homeowner --> UC2
homeowner --> UC3
homeowner --> UC4
homeowner --> UC5
homeowner --> UC6
homeowner --> UC7
homeowner --> UC8
homeowner --> UC9
homeowner --> UC10
homeowner --> UC11
homeowner --> UC12
homeowner --> UC13
homeowner --> UC14
homeowner --> UC15
homeowner --> UC16
homeowner --> UC17
homeowner --> UC19
homeowner --> UC20
homeowner --> UC21
homeowner --> UC22
homeowner --> UC23
homeowner --> UC24
homeowner --> UC25
homeowner --> UC26
homeowner --> UC28
homeowner --> UC29

' Property Manager relationships
manager --> UC1
manager --> UC4
manager --> UC5
manager --> UC6
manager --> UC10
manager --> UC11
manager --> UC15
manager --> UC19
manager --> UC20
manager --> UC22
manager --> UC26

' Service Provider relationships
provider --> UC5
provider --> UC11
provider --> UC27

' System relationships
system --> UC18

' Include relationships
UC10 ..> UC13 : <<include>>
UC10 ..> UC14 : <<include>>
UC10 ..> UC15 : <<extend>>
UC15 ..> UC16 : <<include>>
UC15 ..> UC18 : <<include>>
UC6 ..> UC7 : <<extend>>
UC19 ..> UC21 : <<include>>

' Notes
note right of UC18
  Automatically calculated
  when rating is added
end note

note right of UC8
  Preferred providers appear
  first in task assignment
end note

note left of provider
  Limited access to their
  own profile and tasks
end note

note bottom of UC26
  Links to Task Management
  feature
end note

@enduml
