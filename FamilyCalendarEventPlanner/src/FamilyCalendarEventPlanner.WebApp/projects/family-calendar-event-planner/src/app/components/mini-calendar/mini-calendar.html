<div class="mini-calendar">
  <div class="mini-calendar__header">
    <button mat-icon-button (click)="previousMonth()">
      <mat-icon>chevron_left</mat-icon>
    </button>
    <span class="mini-calendar__month-year">
      {{ currentMonth | date:'MMMM yyyy' }}
    </span>
    <button mat-icon-button (click)="nextMonth()">
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>

  <div class="mini-calendar__grid">
    @for (day of weekDays; track day) {
      <div class="mini-calendar__day-header">{{ day }}</div>
    }

    @for (day of getCalendarDays(); track day.date.toISOString()) {
      <div
        class="mini-calendar__day"
        [class.mini-calendar__day--other-month]="!day.isCurrentMonth"
        [class.mini-calendar__day--today]="day.isToday"
        [class.mini-calendar__day--selected]="isSelected(day)"
        [class.mini-calendar__day--has-events]="day.hasEvents"
        (click)="selectDate(day)">
        {{ day.dayNumber }}
      </div>
    }
  </div>
</div>
