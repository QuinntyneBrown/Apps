<mat-card class="event-card" [class.event-card--conflict]="hasConflict" (click)="onClick()">
  <mat-card-header class="event-card__header">
    <div class="event-card__time">
      <mat-icon>schedule</mat-icon>
      <span>{{ event.startTime | date:'shortTime' }} - {{ event.endTime | date:'shortTime' }}</span>
    </div>
    <div class="event-card__badges">
      @if (hasConflict) {
        <mat-chip class="event-card__conflict-chip">
          <mat-icon>warning</mat-icon>
          Conflict
        </mat-chip>
      }
    </div>
  </mat-card-header>

  <mat-card-content class="event-card__content">
    <div class="event-card__title-row">
      <mat-icon class="event-card__type-icon">{{ getEventIcon() }}</mat-icon>
      <h3 class="event-card__title">{{ event.title }}</h3>
    </div>

    @if (event.location) {
      <div class="event-card__location">
        <mat-icon>location_on</mat-icon>
        <span>{{ event.location }}</span>
      </div>
    }

    @if (event.description) {
      <p class="event-card__description">{{ event.description }}</p>
    }
  </mat-card-content>

  <mat-card-footer class="event-card__footer">
    <div class="event-card__attendees">
      @for (memberId of getAttendeeIds(); track memberId) {
        <div
          class="event-card__attendee"
          [style.background-color]="getMemberColor(memberId)"
          [title]="getMemberInitials(memberId)">
          {{ getMemberInitials(memberId) }}
        </div>
      }
    </div>
  </mat-card-footer>
</mat-card>
