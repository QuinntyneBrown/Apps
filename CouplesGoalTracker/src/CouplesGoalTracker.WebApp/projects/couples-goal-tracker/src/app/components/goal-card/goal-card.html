<mat-card class="goal-card">
  <mat-card-header class="goal-card__header">
    <mat-card-title class="goal-card__title">
      <a [routerLink]="['/goals', goal.goalId]" class="goal-card__link">{{ goal.title }}</a>
    </mat-card-title>
    <mat-card-subtitle class="goal-card__subtitle">
      <mat-chip-set class="goal-card__chips">
        <mat-chip>{{ categoryLabels[goal.category] }}</mat-chip>
        <mat-chip [color]="getStatusColor(goal.status)">{{ statusLabels[goal.status] }}</mat-chip>
        <mat-chip>{{ getPriorityLabel(goal.priority) }}</mat-chip>
      </mat-chip-set>
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content class="goal-card__content">
    <p class="goal-card__description">{{ goal.description }}</p>

    <div class="goal-card__progress">
      <div class="goal-card__progress-label">
        <span>Progress</span>
        <span>{{ goal.completionPercentage }}%</span>
      </div>
      <mat-progress-bar
        mode="determinate"
        [value]="goal.completionPercentage"
        class="goal-card__progress-bar">
      </mat-progress-bar>
    </div>

    <div class="goal-card__meta" *ngIf="goal.targetDate">
      <mat-icon class="goal-card__meta-icon">event</mat-icon>
      <span>Target: {{ goal.targetDate | date:'mediumDate' }}</span>
    </div>

    <div class="goal-card__meta" *ngIf="goal.isShared">
      <mat-icon class="goal-card__meta-icon">people</mat-icon>
      <span>Shared Goal</span>
    </div>
  </mat-card-content>

  <mat-card-actions class="goal-card__actions">
    <a mat-button [routerLink]="['/goals', goal.goalId]" color="primary">
      <mat-icon>visibility</mat-icon>
      View Details
    </a>
    <button mat-button (click)="onDelete()" color="warn">
      <mat-icon>delete</mat-icon>
      Delete
    </button>
  </mat-card-actions>
</mat-card>
