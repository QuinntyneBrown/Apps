<mat-card class="milestone-card" [class.milestone-card--completed]="milestone.isCompleted">
  <mat-card-content class="milestone-card__content">
    <div class="milestone-card__checkbox-container">
      <mat-checkbox
        [checked]="milestone.isCompleted"
        (change)="onToggleComplete()"
        class="milestone-card__checkbox"
        color="primary">
      </mat-checkbox>
      <div class="milestone-card__details">
        <h3 class="milestone-card__title" [class.milestone-card__title--completed]="milestone.isCompleted">
          {{ milestone.title }}
        </h3>
        <p class="milestone-card__description" *ngIf="milestone.description">
          {{ milestone.description }}
        </p>
        <div class="milestone-card__meta">
          <span *ngIf="milestone.targetDate" class="milestone-card__meta-item">
            <mat-icon class="milestone-card__meta-icon">event</mat-icon>
            Target: {{ milestone.targetDate | date:'mediumDate' }}
          </span>
          <span *ngIf="milestone.completedDate" class="milestone-card__meta-item milestone-card__meta-item--success">
            <mat-icon class="milestone-card__meta-icon">check_circle</mat-icon>
            Completed: {{ milestone.completedDate | date:'mediumDate' }}
          </span>
          <span *ngIf="milestone.isOverdue && !milestone.isCompleted" class="milestone-card__meta-item milestone-card__meta-item--overdue">
            <mat-icon class="milestone-card__meta-icon">warning</mat-icon>
            Overdue
          </span>
        </div>
      </div>
    </div>
    <button mat-icon-button (click)="onDelete()" class="milestone-card__delete" color="warn">
      <mat-icon>delete</mat-icon>
    </button>
  </mat-card-content>
</mat-card>
