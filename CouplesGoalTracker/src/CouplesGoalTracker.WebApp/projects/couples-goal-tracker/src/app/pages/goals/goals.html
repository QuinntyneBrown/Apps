<div class="goals">
  <div class="goals__header">
    <h1 class="goals__title">Goals</h1>
    <button mat-raised-button color="primary" (click)="openCreateGoalDialog()" class="goals__create-btn">
      <mat-icon>add</mat-icon>
      Create Goal
    </button>
  </div>

  <div class="goals__content">
    <ng-container *ngIf="goals$ | async as goals">
      <mat-tab-group class="goals__tabs">
        <mat-tab label="All Goals">
          <div class="goals__tab-content">
            <div class="goals__grid" *ngIf="goals.length > 0">
              <app-goal-card
                *ngFor="let goal of goals"
                [goal]="goal"
                (delete)="onDeleteGoal($event)">
              </app-goal-card>
            </div>
            <div class="goals__empty" *ngIf="goals.length === 0">
              <p>No goals found</p>
            </div>
          </div>
        </mat-tab>

        <mat-tab label="In Progress">
          <div class="goals__tab-content">
            <div class="goals__grid" *ngIf="filterGoalsByStatus(goals, GoalStatus.InProgress).length > 0">
              <app-goal-card
                *ngFor="let goal of filterGoalsByStatus(goals, GoalStatus.InProgress)"
                [goal]="goal"
                (delete)="onDeleteGoal($event)">
              </app-goal-card>
            </div>
            <div class="goals__empty" *ngIf="filterGoalsByStatus(goals, GoalStatus.InProgress).length === 0">
              <p>No goals in progress</p>
            </div>
          </div>
        </mat-tab>

        <mat-tab label="Completed">
          <div class="goals__tab-content">
            <div class="goals__grid" *ngIf="filterGoalsByStatus(goals, GoalStatus.Completed).length > 0">
              <app-goal-card
                *ngFor="let goal of filterGoalsByStatus(goals, GoalStatus.Completed)"
                [goal]="goal"
                (delete)="onDeleteGoal($event)">
              </app-goal-card>
            </div>
            <div class="goals__empty" *ngIf="filterGoalsByStatus(goals, GoalStatus.Completed).length === 0">
              <p>No completed goals yet</p>
            </div>
          </div>
        </mat-tab>

        <mat-tab label="Not Started">
          <div class="goals__tab-content">
            <div class="goals__grid" *ngIf="filterGoalsByStatus(goals, GoalStatus.NotStarted).length > 0">
              <app-goal-card
                *ngFor="let goal of filterGoalsByStatus(goals, GoalStatus.NotStarted)"
                [goal]="goal"
                (delete)="onDeleteGoal($event)">
              </app-goal-card>
            </div>
            <div class="goals__empty" *ngIf="filterGoalsByStatus(goals, GoalStatus.NotStarted).length === 0">
              <p>No goals not started</p>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </ng-container>
  </div>
</div>
