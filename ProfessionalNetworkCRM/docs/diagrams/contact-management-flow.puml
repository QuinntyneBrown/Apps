@startuml ContactManagement_UserFlow

skinparam activityBackgroundColor #WhiteSmoke
skinparam activityBorderColor #Black
skinparam activityStartColor #Green
skinparam activityEndColor #Red

start

:User navigates to Contacts page;

if (Has existing contacts?) then (yes)
  :Display contact list;
  :Apply filters/search;
else (no)
  :Show empty state with import options;
endif

:User selects action;

switch (Action type?)
case (Add Contact)
  :Open Add Contact form;
  :Fill contact details;
  :Validate and save;
  :Emit ContactAdded event;
  :Show success message;

case (Import Contacts)
  :Select import source;
  :Authenticate and fetch contacts;
  note right
    Sources: LinkedIn, CSV, Google
  end note
  :Preview import data;
  :Confirm import;
  :Process import;
  :Emit ContactAdded events;
  :Show import summary;

case (View Contact)
  :Display contact details;
  :Load interaction history;
  :Load follow-ups;
  :Load notes;
  :Perform contact actions;
  note right
    Actions: Edit, Add Tag, Deactivate
    Each emits appropriate domain event
  end note

case (Search/Filter)
  :Enter search criteria;
  :Apply filters;
  :Display filtered results;
endswitch

:Update contact list;

stop

@enduml
