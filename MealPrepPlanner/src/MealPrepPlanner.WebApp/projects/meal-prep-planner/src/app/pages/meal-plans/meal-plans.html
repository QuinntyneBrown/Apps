<div class="meal-plans">
  <div class="meal-plans__container">
    <div class="meal-plans__header">
      <h1 class="meal-plans__title">Meal Plans</h1>
      <button mat-raised-button color="primary">
        <mat-icon>add</mat-icon>
        Create New Plan
      </button>
    </div>

    <div class="meal-plans__list">
      <ng-container *ngIf="mealPlans$ | async as mealPlans">
        <mat-card *ngFor="let plan of mealPlans" class="meal-plans__card">
          <mat-card-header>
            <mat-card-title>
              {{ plan.name }}
              <mat-chip *ngIf="plan.isActive" class="meal-plans__status-chip" color="primary">
                Active
              </mat-chip>
            </mat-card-title>
            <mat-card-subtitle>
              {{ plan.startDate | date:'mediumDate' }} - {{ plan.endDate | date:'mediumDate' }}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="meal-plans__info">
              <div class="meal-plans__info-item">
                <strong>Duration:</strong> {{ plan.duration }} days
              </div>
              <div class="meal-plans__info-item" *ngIf="plan.dailyCalorieTarget">
                <strong>Daily Calorie Target:</strong> {{ plan.dailyCalorieTarget }} kcal
              </div>
              <div class="meal-plans__info-item" *ngIf="plan.dietaryPreferences">
                <strong>Dietary Preferences:</strong> {{ plan.dietaryPreferences }}
              </div>
              <div class="meal-plans__info-item" *ngIf="plan.notes">
                <strong>Notes:</strong> {{ plan.notes }}
              </div>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="primary">View</button>
            <button mat-button>Edit</button>
            <button mat-button *ngIf="!plan.isActive">Activate</button>
            <button mat-button color="warn">Delete</button>
          </mat-card-actions>
        </mat-card>

        <div *ngIf="mealPlans.length === 0" class="meal-plans__empty">
          <mat-icon>calendar_today</mat-icon>
          <p>No meal plans found</p>
          <button mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Create Your First Meal Plan
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</div>
