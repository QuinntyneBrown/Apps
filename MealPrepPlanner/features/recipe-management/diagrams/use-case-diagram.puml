@startuml Recipe Management - Use Case Diagram

left to right direction
skinparam packageStyle rectangle

actor "User" as User
actor "Nutrition API" as NutritionAPI

rectangle "Recipe Management System" {

    package "Recipe CRUD" {
        usecase "Create Recipe" as UC1
        usecase "View Recipe Details" as UC2
        usecase "Edit Recipe" as UC3
        usecase "Delete Recipe" as UC4
        usecase "Add Ingredients" as UC5
        usecase "Add Instructions" as UC6
        usecase "Upload Recipe Image" as UC7
    }

    package "Recipe Discovery" {
        usecase "Browse Recipes" as UC8
        usecase "Search Recipes" as UC9
        usecase "Filter by Category" as UC10
        usecase "Filter by Cuisine" as UC11
        usecase "View Favorites" as UC12
        usecase "View Recently Prepared" as UC13
    }

    package "Recipe Interaction" {
        usecase "Toggle Favorite" as UC14
        usecase "Rate Recipe" as UC15
        usecase "Mark as Prepared" as UC16
        usecase "Scale Servings" as UC17
        usecase "Print Recipe" as UC18
        usecase "Share Recipe" as UC19
    }

    package "Nutrition Management" {
        usecase "Calculate Nutrition" as UC20
        usecase "View Nutrition Info" as UC21
        usecase "Adjust Nutritional Values" as UC22
    }

    package "Advanced Features" {
        usecase "Import Recipe from URL" as UC23
        usecase "Create Recipe Collection" as UC24
        usecase "Suggest Substitutions" as UC25
        usecase "Cooking Mode" as UC26
    }

}

' User interactions with Recipe CRUD
User --> UC1
User --> UC2
User --> UC3
User --> UC4

' User interactions with Recipe Discovery
User --> UC8
User --> UC9
User --> UC12
User --> UC13

' User interactions with Recipe Interaction
User --> UC14
User --> UC15
User --> UC16
User --> UC17
User --> UC18
User --> UC19

' User interactions with Nutrition
User --> UC20
User --> UC21

' User interactions with Advanced Features
User --> UC23
User --> UC24
User --> UC26

' Include relationships
UC1 ..> UC5 : <<include>>
UC1 ..> UC6 : <<include>>
UC1 ..> UC20 : <<include>>
UC3 ..> UC2 : <<include>>
UC16 ..> UC15 : <<extend>>
UC17 ..> UC2 : <<extend>>
UC7 ..> UC1 : <<extend>>
UC7 ..> UC3 : <<extend>>
UC10 ..> UC8 : <<extend>>
UC11 ..> UC8 : <<extend>>
UC22 ..> UC20 : <<extend>>
UC25 ..> UC2 : <<extend>>

' External API interactions
UC20 --> NutritionAPI : <<trigger>>

note right of UC1
  User provides recipe name,
  ingredients, instructions,
  and metadata
end note

note right of UC9
  Search by name, ingredients,
  tags, or full-text
end note

note right of UC17
  Automatically scales all
  ingredient quantities and
  recalculates nutrition
end note

note right of UC20
  Uses external nutrition
  database to calculate
  values automatically
end note

note right of UC26
  Full-screen, hands-free
  cooking interface with
  timers and voice control
end note

@enduml
