@startuml Nutrition Tracking - Class Diagram

class NutritionGoal <<Aggregate Root>> {
    - Id : Guid
    - UserId : Guid
    - Name : string
    - DailyCalorieTarget : int
    - ProteinTarget : decimal
    - CarbsTarget : decimal
    - FatTarget : decimal
    - IsActive : bool
    - StartDate : DateTime
    - EndDate : DateTime?
    --
    + SetAsActive() : void
    + UpdateTargets(calories, protein, carbs, fat) : void
}

class DailyNutrition <<Aggregate Root>> {
    - Id : Guid
    - UserId : Guid
    - Date : Date
    - TotalCalories : int
    - TotalProtein : decimal
    - TotalCarbs : decimal
    - TotalFat : decimal
    - MealEntries : List<MealEntry>
    - GoalId : Guid?
    --
    + LogMeal(recipe, servings, mealType) : void
    + CalculateTotals() : void
    + CompareToGoal(goal) : GoalComparison
}

class MealEntry <<Entity>> {
    - Id : Guid
    - RecipeId : Guid?
    - MealType : MealType
    - Servings : decimal
    - Calories : int
    - Protein : decimal
    - Carbs : decimal
    - Fat : decimal
    - Timestamp : DateTime
}

DailyNutrition "1" *-- "*" MealEntry

@enduml
