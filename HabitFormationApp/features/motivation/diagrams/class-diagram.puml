@startuml Motivation - Class Diagram

class Achievement <<Aggregate>> {
  - Id: Guid
  - UserId: Guid
  - Type: AchievementType
  - Title: string
  - Points: int
  - IsUnlocked: bool
  --
  + Unlock(): void
}

enum AchievementType {
  Milestone
  Streak
  Consistency
  Category
  Social
}

class MotivationMetrics <<Entity>> {
  - UserId: Guid
  - CompletionRate: double
  - MotivationScore: int
  - Trend: TrendDirection
  --
  + Calculate(): int
}

class PersonalBest <<Entity>> {
  - UserId: Guid
  - HabitId: Guid
  - MetricType: string
  - Value: int
  --
  + Update(newValue): bool
}

class MilestoneAchieved <<Event>> {
  + AchievementId: Guid
  + UserId: Guid
  + Title: string
  + Points: int
}

class MotivationDipDetected <<Event>> {
  + UserId: Guid
  + MotivationScore: int
  + Factors: string[]
}

Achievement ..> AchievementType
Achievement ..> MilestoneAchieved: publishes
MotivationMetrics ..> MotivationDipDetected: publishes

@enduml
