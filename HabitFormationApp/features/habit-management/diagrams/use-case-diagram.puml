@startuml Habit Management - Use Case Diagram

left to right direction
skinparam packageStyle rectangle

actor "User" as user
actor "System" as system

rectangle "Habit Management" {
  usecase "Create Habit" as UC1
  usecase "View Habits" as UC2
  usecase "Edit Habit" as UC3
  usecase "Archive Habit" as UC4
  usecase "Reactivate Habit" as UC5
  usecase "Search Habits" as UC6
  usecase "Filter by Category" as UC7
  usecase "Sort Habits" as UC8
  usecase "View Habit Details" as UC9
  usecase "Validate Habit Data" as UC10
  usecase "Check Duplicate Name" as UC11
  usecase "Publish Domain Events" as UC12
  usecase "Schedule Reminders" as UC13
  usecase "Initialize Streak" as UC14
}

' User interactions
user --> UC1
user --> UC2
user --> UC3
user --> UC4
user --> UC5
user --> UC6
user --> UC7
user --> UC8
user --> UC9

' Includes relationships
UC1 ..> UC10 : <<include>>
UC1 ..> UC11 : <<include>>
UC1 ..> UC12 : <<include>>
UC3 ..> UC10 : <<include>>
UC3 ..> UC11 : <<include>>
UC3 ..> UC12 : <<include>>
UC4 ..> UC12 : <<include>>
UC5 ..> UC12 : <<include>>

' Extends relationships
UC2 ..> UC6 : <<extend>>
UC2 ..> UC7 : <<extend>>
UC2 ..> UC8 : <<extend>>

' System interactions
system --> UC12
UC1 --> UC13 : triggers
UC1 --> UC14 : triggers
UC5 --> UC13 : triggers

note right of UC1
  User provides:
  - Name
  - Description
  - Frequency
  - Category
  - Start Date
  - Reminder settings
end note

note right of UC3
  Can modify all fields
  except Start Date
end note

note right of UC4
  Habit is hidden but
  data is retained
end note

note right of UC5
  Resets streak and
  sets new start date
end note

note bottom of UC12
  Events:
  - HabitCreated
  - HabitModified
  - HabitArchived
  - HabitReactivated
end note

note bottom of UC13
  Integrates with
  Reminder Service
end note

note bottom of UC14
  Integrates with
  Streak Service
end note

@enduml
