@startuml Streak Management - Use Case Diagram

actor "User" as user
actor "System" as system

rectangle "Streak Management" {
  usecase "View Current Streak" as UC1
  usecase "View Streak History" as UC2
  usecase "Track Milestone Progress" as UC3
  usecase "Celebrate Milestone" as UC4
  usecase "Use Streak Freeze" as UC5
  usecase "Recover Broken Streak" as UC6
  usecase "View Leaderboard" as UC7
  usecase "Calculate Streak" as UC8
  usecase "Detect Streak Break" as UC9
  usecase "Award Freeze Tokens" as UC10
}

user --> UC1
user --> UC2
user --> UC3
user --> UC5
user --> UC6
user --> UC7

UC1 ..> UC8 : <<include>>
UC2 ..> UC8 : <<include>>
UC3 ..> UC4 : <<extend>>\n[milestone reached]

system --> UC8
system --> UC9
system --> UC10

note right of UC8
  Calculated after each
  completion based on
  habit frequency
end note

note bottom of UC9
  System checks at midnight
  and when completions
  are expected
end note

@enduml
