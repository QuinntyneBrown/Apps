@startuml Accountability - Class Diagram

class AccountabilityPartnership <<Aggregate>> {
  - Id: Guid
  - UserId: Guid
  - PartnerId: Guid
  - HabitId: Guid?
  - Status: PartnershipStatus
  - PermissionLevel: PermissionLevel
  --
  + Create(): AccountabilityPartnership
  + Accept(): void
  + End(): void
  + SendEncouragement(message): void
}

enum PartnershipStatus {
  Pending
  Active
  Declined
  Ended
}

enum PermissionLevel {
  View
  Comment
  Encourage
}

class CheckIn <<Entity>> {
  - Id: Guid
  - PartnershipId: Guid
  - Message: string
  - Mood: MoodLevel
  --
  + Create(): CheckIn
}

class AccountabilityPartnerAdded <<Event>> {
  + PartnershipId: Guid
  + UserId: Guid
  + PartnerId: Guid
}

class PartnerEncouragementSent <<Event>> {
  + PartnershipId: Guid
  + SenderId: Guid
  + Message: string
}

AccountabilityPartnership ..> PartnershipStatus
AccountabilityPartnership ..> PermissionLevel
AccountabilityPartnership *-- CheckIn
AccountabilityPartnership ..> AccountabilityPartnerAdded: publishes
AccountabilityPartnership ..> PartnerEncouragementSent: publishes

@enduml
