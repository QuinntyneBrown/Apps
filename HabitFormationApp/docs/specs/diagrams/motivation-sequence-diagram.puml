@startuml Motivation - Sequence Diagram

title Achievement Unlock

participant "CompletionService" as Comp
participant "AchievementHandler" as Handler
participant "Achievement" as Ach
participant "EventPublisher" as Events

Comp -> Handler: Check achievements after completion
activate Handler

Handler -> Handler: Check unlock criteria
alt Achievement unlocked
  Handler -> Ach: Unlock()
  activate Ach
  Ach -> Ach: Set IsUnlocked = true
  Ach -> Events: Publish(MilestoneAchieved)
  Ach --> Handler: Achievement unlocked
  deactivate Ach
  Handler --> Comp: Achievement details
else Not yet unlocked
  Handler --> Comp: No achievement
end
deactivate Handler

@enduml
