@startuml TravelDestinationWishlist_SequenceDiagram

title Plan and Experience Trip Flow

actor Traveler
participant UI
participant API
participant TripService
participant EventBus
participant DB

== Add to Wishlist ==
Traveler -> UI: Add "Santorini, Greece"
UI -> API: POST /api/wishlist
API -> TripService: AddDestination(destination)
TripService -> DB: Insert WishlistDestination
TripService -> EventBus: Publish DestinationAddedEvent
TripService --> API: DestinationDTO
API --> UI: 201 Created
UI --> Traveler: Destination added to wishlist

== Plan Trip ==
Traveler -> UI: Create trip from wishlist
UI -> API: POST /api/trips
API -> TripService: CreateTrip(tripDTO)
TripService -> DB: Insert Trip
TripService -> EventBus: Publish TripPlannedEvent
TripService --> API: TripDTO
API --> UI: Trip created
UI --> Traveler: Trip planned

== Log Experience ==
Traveler -> UI: Visit "Ancient Thera"
UI -> API: POST /api/trips/{id}/attractions
API -> TripService: LogAttraction(visitDTO)
TripService -> DB: Insert AttractionVisit
TripService -> EventBus: Publish AttractionVisitedEvent
EventBus --> TripService: CountryVisitedEvent
TripService --> API: VisitDTO
API --> UI: Experience logged
UI --> Traveler: "Greece" added to countries visited

@enduml
