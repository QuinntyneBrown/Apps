@startuml Weekly Review Session

class WeeklyReview <<Aggregate Root>> {
  - reviewId: Guid
  - userId: Guid
  - weekEndingDate: DateTime
  - startedAt: DateTime
  - completedAt: DateTime?
  - status: ReviewStatus
  - duration: TimeSpan
  - completenessScore: decimal
  - sections: List<ReviewSection>
  --
  + Start(): void
  + CompleteSection(sectionId): void
  + Complete(): void
  + CalculateCompleteness(): decimal
}

enum ReviewStatus {
  InProgress
  Completed
  Skipped
}

enum SectionType {
  Accomplishments
  Challenges
  Gratitude
  Reflection
  Planning
  Metrics
}

class ReviewSection {
  - sectionId: Guid
  - TenantId: Guid
  - sectionType: SectionType
  - isCompleted: bool
  - completedAt: DateTime?
  - content: string
}

class StartWeeklyReviewCommand {
  + UserId: Guid
  + WeekEndingDate: DateTime
}

class WeeklyReviewStarted <<Domain Event>> {
  + ReviewId: Guid
  + UserId: Guid
  + WeekEndingDate: DateTime
  + OccurredAt: DateTime
}

WeeklyReview *-- ReviewStatus
WeeklyReview o-- ReviewSection
ReviewSection *-- SectionType

@enduml
