@startuml SalaryCompensation_DomainModel

class CompensationRecord <<AggregateRoot>> {
  - Id: Guid
  - Amount: decimal
  - Currency: string
  - EffectiveDate: DateTime
  - JobTitle: string
  - Company: string
  - EmploymentType: EmploymentType
}

class CompensationIncrease <<Entity>> {
  - Id: Guid
  - PreviousAmount: decimal
  - NewAmount: decimal
  - IncreasePercentage: decimal
  - IncreaseType: IncreaseType
  - EffectiveDate: DateTime
}

class Bonus <<Entity>> {
  - Id: Guid
  - Amount: decimal
  - BonusType: BonusType
  - PaymentDate: DateTime
  - PerformancePeriod: string
}

class EquityGrant <<AggregateRoot>> {
  - Id: Guid
  - GrantType: EquityType
  - Shares: int
  - GrantPrice: decimal
  - VestingSchedule: VestingSchedule
  - GrantDate: DateTime
  --
  + CalculateVestedShares()
  + EstimateValue()
}

class BenefitsPackage <<Entity>> {
  - Id: Guid
  - HealthInsurance: HealthPlan
  - RetirementMatch: decimal
  - PTODays: int
  - OtherBenefits: List<Benefit>
  - MonetaryValue: decimal
}

class MarketBenchmark <<ValueObject>> {
  - JobTitle: string
  - Location: string
  - ExperienceLevel: string
  - MedianSalary: decimal
  - Percentile25: decimal
  - Percentile75: decimal
}

enum EquityType {
  RSU
  ISO
  NSO
  ESPP
}

enum BonusType {
  Performance
  Signing
  Retention
  Annual
}

CompensationRecord "1" -- "0..*" CompensationIncrease
CompensationRecord "1" -- "0..*" Bonus
CompensationRecord "1" -- "0..1" EquityGrant
CompensationRecord "1" -- "0..1" BenefitsPackage
EquityGrant --> EquityType
Bonus --> BonusType

@enduml
