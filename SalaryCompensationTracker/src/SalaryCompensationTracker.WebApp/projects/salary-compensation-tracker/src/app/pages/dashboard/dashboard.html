<div class="dashboard" *ngIf="viewModel$ | async as vm">
  <div class="dashboard__header">
    <h1 class="dashboard__title">Dashboard</h1>
  </div>

  <div class="dashboard__cards">
    <mat-card class="dashboard__card">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--compensations">paid</mat-icon>
        <mat-card-title>Total Compensation</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__card-value">{{ vm.totalCompensation | currency }}</div>
        <div class="dashboard__card-subtitle">{{ vm.compensations.length }} compensation record(s)</div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/compensations">View All</button>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--benefits">card_giftcard</mat-icon>
        <mat-card-title>Total Benefits Value</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__card-value">{{ vm.totalBenefitValue | currency }}</div>
        <div class="dashboard__card-subtitle">{{ vm.benefits.length }} benefit(s)</div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/benefits">View All</button>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card">
      <mat-card-header>
        <mat-icon mat-card-avatar class="dashboard__card-icon dashboard__card-icon--market">analytics</mat-icon>
        <mat-card-title>Market Comparisons</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="dashboard__card-value">{{ vm.marketComparisons.length }}</div>
        <div class="dashboard__card-subtitle">comparison(s) tracked</div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/market-comparisons">View All</button>
      </mat-card-actions>
    </mat-card>
  </div>

  <div class="dashboard__recent">
    <mat-card class="dashboard__recent-card">
      <mat-card-header>
        <mat-card-title>Recent Compensations</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="vm.compensations.length === 0" class="dashboard__empty">
          No compensation records yet. <a routerLink="/compensations">Add one now</a>
        </div>
        <div *ngFor="let compensation of vm.compensations.slice(0, 5)" class="dashboard__recent-item">
          <div class="dashboard__recent-item-title">{{ compensation.employer }} - {{ compensation.jobTitle }}</div>
          <div class="dashboard__recent-item-value">{{ compensation.totalCompensation | currency }}</div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
