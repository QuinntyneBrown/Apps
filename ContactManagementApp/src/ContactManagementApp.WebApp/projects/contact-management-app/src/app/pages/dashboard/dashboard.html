<div class="dashboard">
  <div class="dashboard__header">
    <h1 class="dashboard__title">Dashboard</h1>
  </div>

  <div class="dashboard__content" *ngIf="!(loading$ | async); else loadingTemplate">
    <div class="dashboard__stats" *ngIf="stats$ | async as stats">
      <mat-card class="dashboard__stat-card">
        <mat-card-content class="dashboard__stat-content">
          <mat-icon class="dashboard__stat-icon dashboard__stat-icon--contacts">people</mat-icon>
          <div class="dashboard__stat-info">
            <div class="dashboard__stat-value">{{ stats.totalContacts }}</div>
            <div class="dashboard__stat-label">Total Contacts</div>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" routerLink="/contacts">View All</button>
        </mat-card-actions>
      </mat-card>

      <mat-card class="dashboard__stat-card">
        <mat-card-content class="dashboard__stat-content">
          <mat-icon class="dashboard__stat-icon dashboard__stat-icon--priority">star</mat-icon>
          <div class="dashboard__stat-info">
            <div class="dashboard__stat-value">{{ stats.priorityContacts }}</div>
            <div class="dashboard__stat-label">Priority Contacts</div>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" routerLink="/contacts">View All</button>
        </mat-card-actions>
      </mat-card>

      <mat-card class="dashboard__stat-card">
        <mat-card-content class="dashboard__stat-content">
          <mat-icon class="dashboard__stat-icon dashboard__stat-icon--interactions">forum</mat-icon>
          <div class="dashboard__stat-info">
            <div class="dashboard__stat-value">{{ stats.recentInteractions }}</div>
            <div class="dashboard__stat-label">Interactions</div>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" routerLink="/interactions">View All</button>
        </mat-card-actions>
      </mat-card>

      <mat-card class="dashboard__stat-card">
        <mat-card-content class="dashboard__stat-content">
          <mat-icon class="dashboard__stat-icon dashboard__stat-icon--followups">schedule</mat-icon>
          <div class="dashboard__stat-info">
            <div class="dashboard__stat-value">{{ stats.pendingFollowUps }}</div>
            <div class="dashboard__stat-label">Pending Follow-ups</div>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" routerLink="/follow-ups">View All</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>

  <ng-template #loadingTemplate>
    <div class="dashboard__loading">
      <mat-spinner></mat-spinner>
    </div>
  </ng-template>
</div>
