<div class="sidebar">
  <div class="sidebar__header">
    <div class="sidebar__title">Market Intel</div>
    <div class="sidebar__subtitle">Intelligence Dashboard</div>
  </div>

  @for (section of menuSections; track section.title) {
    <div class="sidebar__section-title">{{ section.title }}</div>
    <mat-nav-list class="sidebar__nav">
      @for (item of section.items; track item.path) {
        <a
          mat-list-item
          [routerLink]="item.path"
          routerLinkActive="sidebar__item--active"
          [routerLinkActiveOptions]="{ exact: item.exact || false }"
          class="sidebar__item"
        >
          <mat-icon matListItemIcon class="sidebar__icon">{{ item.icon }}</mat-icon>
          <span matListItemTitle class="sidebar__label">{{ item.label }}</span>
          @if (item.count$) {
            <span matListItemMeta class="sidebar__count">
              {{ item.count$ | async }}
            </span>
          }
        </a>
      }
    </mat-nav-list>

    @if (!$last) {
      <mat-divider class="sidebar__divider"></mat-divider>
    }
  }
</div>
