<div class="competitor-form">
  <h1>{{ isEditMode ? 'Edit Competitor' : 'Add Competitor' }}</h1>

  <mat-card>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Company name">
          @if (form.controls.name.hasError('required') && form.controls.name.touched) {
            <mat-error>Name is required</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Industry</mat-label>
          <input matInput formControlName="industry" placeholder="e.g., Software & Services">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Website</mat-label>
          <input matInput formControlName="website" placeholder="https://example.com">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Market Position</mat-label>
          <mat-select formControlName="marketPosition">
            @for (position of marketPositions; track position.value) {
              <mat-option [value]="position.value">{{ position.label }}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <div class="form__row">
          <mat-form-field appearance="outline">
            <mat-label>Employee Count</mat-label>
            <input matInput type="number" formControlName="employeeCount">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Annual Revenue ($)</mat-label>
            <input matInput type="number" formControlName="annualRevenue">
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description" rows="3"></textarea>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Strengths</mat-label>
          <textarea matInput formControlName="strengths" rows="3"></textarea>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Weaknesses</mat-label>
          <textarea matInput formControlName="weaknesses" rows="3"></textarea>
        </mat-form-field>

        <div class="form__actions">
          <button mat-button type="button" (click)="onCancel()">Cancel</button>
          <button mat-raised-button color="primary" type="submit">
            {{ isEditMode ? 'Update' : 'Create' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
