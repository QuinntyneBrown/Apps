<div class="form-page"><h1>{{ isEditMode ? 'Edit Insight' : 'Add Insight' }}</h1><mat-card><mat-card-content><form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
  <mat-form-field appearance="outline"><mat-label>Title</mat-label><input matInput formControlName="title">@if (form.controls.title.hasError('required') && form.controls.title.touched) {<mat-error>Required</mat-error>}</mat-form-field>
  <mat-form-field appearance="outline"><mat-label>Description</mat-label><textarea matInput formControlName="description" rows="3"></textarea>@if (form.controls.description.hasError('required') && form.controls.description.touched) {<mat-error>Required</mat-error>}</mat-form-field>
  <div class="form__row"><mat-form-field appearance="outline"><mat-label>Category</mat-label><mat-select formControlName="category">@for (c of categories; track c.value) {<mat-option [value]="c.value">{{ c.label }}</mat-option>}</mat-select></mat-form-field>
  <mat-form-field appearance="outline"><mat-label>Impact</mat-label><mat-select formControlName="impact">@for (i of impacts; track i.value) {<mat-option [value]="i.value">{{ i.label }}</mat-option>}</mat-select></mat-form-field></div>
  <div class="form__row"><mat-form-field appearance="outline"><mat-label>Source</mat-label><input matInput formControlName="source"></mat-form-field><mat-form-field appearance="outline"><mat-label>Source URL</mat-label><input matInput formControlName="sourceUrl"></mat-form-field></div>
  <mat-form-field appearance="outline"><mat-label>Tags (comma-separated)</mat-label><input matInput formControlName="tagsInput"></mat-form-field>
  <mat-checkbox formControlName="isActionable">Actionable</mat-checkbox>
  <div class="form__actions"><button mat-button type="button" (click)="onCancel()">Cancel</button><button mat-raised-button color="primary" type="submit">{{ isEditMode ? 'Update' : 'Create' }}</button></div>
</form></mat-card-content></mat-card></div>
