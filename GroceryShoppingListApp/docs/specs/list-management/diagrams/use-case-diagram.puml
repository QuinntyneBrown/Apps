@startuml List Management - Use Case Diagram

left to right direction

actor "User" as user
actor "List Owner" as owner
actor "Shared User" as shared
actor "System" as system

rectangle "List Management System" {

    package "List Creation & Management" {
        usecase "Create Shopping List" as UC1
        usecase "View Shopping Lists" as UC2
        usecase "Update List Details" as UC3
        usecase "Delete Shopping List" as UC4
        usecase "Search Lists" as UC5
        usecase "Filter Lists by Status" as UC6
        usecase "Sort Lists" as UC7
    }

    package "List Sharing" {
        usecase "Share List with Users" as UC8
        usecase "Set Permission Level" as UC9
        usecase "Remove User Access" as UC10
        usecase "View Shared Lists" as UC11
    }

    package "List Lifecycle" {
        usecase "Complete Shopping List" as UC12
        usecase "Archive Shopping List" as UC13
        usecase "Reopen Completed List" as UC14
        usecase "Unarchive List" as UC15
    }

    package "Recurring Lists" {
        usecase "Create Recurring List" as UC16
        usecase "Auto-Generate New Instance" as UC17
        usecase "Manage Recurring Pattern" as UC18
    }

    package "Notifications" {
        usecase "Send Share Notification" as UC19
        usecase "Send Completion Notification" as UC20
    }
}

' User relationships
user --> UC1 : creates
user --> UC2 : views
user --> UC5 : searches
user --> UC6 : filters
user --> UC7 : sorts
user --> UC11 : accesses

' Owner relationships
owner --> UC3 : updates
owner --> UC4 : deletes
owner --> UC8 : shares
owner --> UC9 : sets
owner --> UC10 : removes
owner --> UC12 : completes
owner --> UC13 : archives
owner --> UC14 : reopens
owner --> UC15 : unarchives
owner --> UC16 : creates
owner --> UC18 : manages

' Shared user relationships
shared --> UC2 : views
shared --> UC11 : accesses

' System relationships
system --> UC17 : triggers
system --> UC19 : sends
system --> UC20 : sends

' Include relationships
UC1 .> UC19 : <<include>>
UC8 .> UC9 : <<include>>
UC8 .> UC19 : <<include>>
UC16 .> UC1 : <<extend>>
UC12 .> UC20 : <<include>>

' Extend relationships
UC2 ..> UC5 : <<extend>>
UC2 ..> UC6 : <<extend>>
UC2 ..> UC7 : <<extend>>

' Generalization
owner --|> user
shared --|> user

note right of UC8
  Only the list owner can
  share lists with other users
end note

note right of UC17
  System automatically creates
  new list instances based on
  recurring pattern
end note

note bottom of UC12
  List can be completed manually
  or auto-completed when all
  items are purchased
end note

@enduml
