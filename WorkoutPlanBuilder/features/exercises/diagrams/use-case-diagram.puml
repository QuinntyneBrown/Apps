@startuml Exercises - Use Case Diagram

!define USER_COLOR #E8F4F8
!define SYSTEM_COLOR #FFF4E6

skinparam actorStyle awesome
skinparam usecase {
    BackgroundColor #FFFFFF
    BorderColor #2C3E50
    ArrowColor #34495E
}

left to right direction

actor "User" as User <<Primary>>
actor "System Administrator" as Admin <<Secondary>>
actor "Exercise Recommendation Engine" as Engine <<System>>

rectangle "Exercise Management System" {

    package "Exercise Library" {
        usecase "Browse Exercise Library" as UC1
        usecase "Search Exercises" as UC2
        usecase "Filter by Category" as UC3
        usecase "Filter by Muscle Group" as UC4
        usecase "Filter by Equipment" as UC5
        usecase "View Exercise Details" as UC6
        usecase "Watch Exercise Video" as UC7
    }

    package "Custom Exercises" {
        usecase "Add Custom Exercise" as UC8
        usecase "Edit Custom Exercise" as UC9
        usecase "Delete Custom Exercise" as UC10
        usecase "Upload Exercise Media" as UC11
        usecase "Approve Custom Exercise" as UC12
    }

    package "Performance Tracking" {
        usecase "Record Exercise Performance" as UC13
        usecase "View Performance History" as UC14
        usecase "Analyze Strength Progression" as UC15
        usecase "Calculate Volume Trends" as UC16
        usecase "Export Performance Data" as UC17
    }

    package "Exercise Substitution" {
        usecase "Find Exercise Substitutes" as UC18
        usecase "Substitute Exercise in Plan" as UC19
        usecase "Compare Exercises" as UC20
        usecase "Get Substitution Suggestions" as UC21
    }

    package "Personal Records" {
        usecase "Detect New Personal Record" as UC22
        usecase "View Exercise PRs" as UC23
    }
}

' User relationships
User --> UC1
User --> UC2
User --> UC6
User --> UC8
User --> UC9
User --> UC10
User --> UC13
User --> UC14
User --> UC18
User --> UC19
User --> UC23

' Admin relationships
Admin --> UC12

' System relationships
Engine --> UC21

' Include relationships
UC2 .> UC3 : <<include>>
UC2 .> UC4 : <<include>>
UC2 .> UC5 : <<include>>

UC6 .> UC7 : <<extend>>
UC6 .> UC14 : <<extend>>

UC8 .> UC11 : <<include>>
UC9 .> UC11 : <<extend>>

UC13 .> UC22 : <<extend>>

UC19 .> UC18 : <<include>>
UC19 .> UC20 : <<extend>>

UC14 .> UC15 : <<extend>>
UC14 .> UC16 : <<extend>>
UC14 .> UC17 : <<extend>>

UC18 .> UC21 : <<extend>>

note right of UC1
  Users can browse the entire
  exercise library with filters
  and search capabilities
end note

note right of UC8
  Users can add custom exercises
  to their personal library.
  Admin approval may be required
  for public visibility.
end note

note right of UC13
  Performance is recorded during
  workout sessions. System tracks
  sets, reps, weight, and volume.
end note

note right of UC19
  Users can substitute exercises
  in their workout plans when
  equipment is unavailable or
  due to injury.
end note

note bottom of UC22
  System automatically detects
  when user achieves a new
  personal record during
  performance recording.
end note

@enduml
