@startuml Workout Plans - Use Case Diagram

left to right direction

actor "User" as User
actor "Premium User" as Premium
actor "Coach" as Coach
actor "System" as System

rectangle "Workout Plan Management" {
  usecase "Create Workout Plan" as UC1
  usecase "Edit Workout Plan" as UC2
  usecase "Delete Workout Plan" as UC3
  usecase "View Workout Plans" as UC4
  usecase "View Plan Details" as UC5
  usecase "Start Workout Plan" as UC6
  usecase "Complete Workout Plan" as UC7
  usecase "Clone Workout Plan" as UC8
  usecase "Archive Workout Plan" as UC9

  usecase "Add Workout to Plan" as UC10
  usecase "Remove Workout from Plan" as UC11
  usecase "Reorder Workouts" as UC12

  usecase "Add Exercise to Workout" as UC13
  usecase "Remove Exercise from Workout" as UC14
  usecase "Reorder Exercises" as UC15
  usecase "Set Exercise Targets" as UC16
  usecase "Substitute Exercise" as UC17

  usecase "Browse Public Plans" as UC18
  usecase "Share Plan Publicly" as UC19
  usecase "Search Plans" as UC20
  usecase "Filter Plans by Status" as UC21

  usecase "Send Notifications" as UC22
  usecase "Track Analytics" as UC23
  usecase "Calculate Progress" as UC24
}

' User relationships
User --> UC1
User --> UC2
User --> UC3
User --> UC4
User --> UC5
User --> UC6
User --> UC7
User --> UC8
User --> UC9
User --> UC18
User --> UC20
User --> UC21

' Premium User inherits from User
Premium --|> User
Premium --> UC19

' Coach inherits from Premium
Coach --|> Premium

' Include relationships
UC1 ..> UC10 : <<include>>
UC1 ..> UC13 : <<include>>

UC2 ..> UC10 : <<include>>
UC2 ..> UC11 : <<include>>
UC2 ..> UC12 : <<include>>

UC10 ..> UC13 : <<include>>
UC10 ..> UC16 : <<include>>

UC13 ..> UC16 : <<include>>

' Extend relationships
UC2 ..> UC17 : <<extend>>
UC13 ..> UC17 : <<extend>>
UC5 ..> UC6 : <<extend>>
UC5 ..> UC8 : <<extend>>

' System interactions
UC6 ..> UC22 : <<include>>
UC7 ..> UC22 : <<include>>
UC7 ..> UC24 : <<include>>

System --> UC22
System --> UC23
System --> UC24

note right of UC1
  User creates a new workout plan
  by defining plan details, adding
  workouts, and configuring exercises
  with target sets, reps, and weights
end note

note right of UC6
  Starting a plan activates it
  and triggers notifications.
  System tracks start date.
end note

note right of UC7
  Completing a plan marks it
  as finished, calculates stats,
  and sends congratulations.
end note

note right of UC8
  Users can clone any plan
  (own or public) to create
  a customizable copy
end note

note bottom of UC19
  Premium users can share
  their plans publicly for
  others to discover and clone
end note

note right of UC17
  Users can substitute exercises
  in a plan (e.g., replace barbell
  bench press with dumbbell press)
  for equipment availability or
  personal preference
end note

note right of UC22
  System sends notifications for:
  - Plan started
  - Plan completed
  - Upcoming workouts
  - Milestone achievements
end note

note right of UC23
  System tracks analytics:
  - Plans created/completed
  - User engagement
  - Popular exercises
  - Completion rates
end note

@enduml
