<div class="dashboard">
  <h1 class="dashboard__title">Dashboard</h1>

  <div class="dashboard__stats">
    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <mat-icon class="dashboard__stat-icon dashboard__stat-icon--green">volunteer_activism</mat-icon>
        <div class="dashboard__stat-value">{{ totalDonations | currency }}</div>
        <div class="dashboard__stat-label">Total Donations</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <mat-icon class="dashboard__stat-icon dashboard__stat-icon--blue">business</mat-icon>
        <div class="dashboard__stat-value">{{ totalOrganizations }}</div>
        <div class="dashboard__stat-label">Organizations</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard__stat-card">
      <mat-card-content>
        <mat-icon class="dashboard__stat-icon dashboard__stat-icon--orange">calendar_today</mat-icon>
        <div class="dashboard__stat-value">{{ currentYearDonations | currency }}</div>
        <div class="dashboard__stat-label">This Year</div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="dashboard__quick-actions">
    <h2 class="dashboard__section-title">Quick Actions</h2>
    <div class="dashboard__action-buttons">
      <button mat-raised-button color="primary" routerLink="/donations">
        <mat-icon>add</mat-icon>
        Record Donation
      </button>
      <button mat-raised-button color="accent" routerLink="/organizations">
        <mat-icon>add_business</mat-icon>
        Add Organization
      </button>
      <button mat-raised-button routerLink="/tax-reports">
        <mat-icon>description</mat-icon>
        View Tax Reports
      </button>
    </div>
  </div>

  <div class="dashboard__recent">
    <h2 class="dashboard__section-title">Recent Donations</h2>
    <div class="dashboard__recent-list">
      @if ((donations$ | async) as donations) {
        @for (donation of donations.slice(0, 5); track donation.donationId) {
          <mat-card class="dashboard__recent-item">
            <mat-card-content>
              <div class="dashboard__recent-org">{{ donation.organizationName }}</div>
              <div class="dashboard__recent-amount">{{ donation.amount | currency }}</div>
              <div class="dashboard__recent-date">{{ donation.donationDate | date: 'mediumDate' }}</div>
            </mat-card-content>
          </mat-card>
        } @empty {
          <p class="dashboard__empty">No donations recorded yet.</p>
        }
      }
    </div>
  </div>
</div>
