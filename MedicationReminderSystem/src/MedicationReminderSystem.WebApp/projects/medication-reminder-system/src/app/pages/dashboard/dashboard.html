<div class="dashboard">
  <h1 class="dashboard__title">Dashboard</h1>

  <div class="dashboard__grid">
    <mat-card class="dashboard__card">
      <mat-card-header>
        <mat-card-title class="dashboard__card-title">
          <mat-icon class="dashboard__icon dashboard__icon--medications">medication</mat-icon>
          Medications
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="dashboard__card-content">
        <div class="dashboard__stat">
          <span class="dashboard__stat-number">{{ (medications$ | async)?.length || 0 }}</span>
          <span class="dashboard__stat-label">Total Medications</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-number">
            {{ ((medications$ | async)?.filter(m => m.isActive) || []).length }}
          </span>
          <span class="dashboard__stat-label">Active</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <a mat-button color="primary" routerLink="/medications">View All</a>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card">
      <mat-card-header>
        <mat-card-title class="dashboard__card-title">
          <mat-icon class="dashboard__icon dashboard__icon--schedules">schedule</mat-icon>
          Dose Schedules
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="dashboard__card-content">
        <div class="dashboard__stat">
          <span class="dashboard__stat-number">{{ (schedules$ | async)?.length || 0 }}</span>
          <span class="dashboard__stat-label">Total Schedules</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-number">
            {{ ((schedules$ | async)?.filter(s => s.isActive && s.reminderEnabled) || []).length }}
          </span>
          <span class="dashboard__stat-label">Active with Reminders</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <a mat-button color="primary" routerLink="/schedules">View All</a>
      </mat-card-actions>
    </mat-card>

    <mat-card class="dashboard__card">
      <mat-card-header>
        <mat-card-title class="dashboard__card-title">
          <mat-icon class="dashboard__icon dashboard__icon--refills">local_pharmacy</mat-icon>
          Refills
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="dashboard__card-content">
        <div class="dashboard__stat">
          <span class="dashboard__stat-number">{{ (refills$ | async)?.length || 0 }}</span>
          <span class="dashboard__stat-label">Total Refills</span>
        </div>
        <div class="dashboard__stat">
          <span class="dashboard__stat-number">
            {{ ((refills$ | async)?.filter(r => r.refillsRemaining && r.refillsRemaining > 0) || []).length }}
          </span>
          <span class="dashboard__stat-label">With Remaining Refills</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <a mat-button color="primary" routerLink="/refills">View All</a>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
