@startuml Medication Management Use Case Diagram

left to right direction
skinparam packageStyle rectangle

actor "Patient" as Patient
actor "Caregiver" as Caregiver
actor "Healthcare Provider" as Provider
actor "Pharmacy System" as Pharmacy

rectangle "Medication Management System" {
    usecase "Add Medication" as UC1
    usecase "View Medication List" as UC2
    usecase "Edit Medication Details" as UC3
    usecase "Set Dosing Schedule" as UC4
    usecase "Pause Medication" as UC5
    usecase "Resume Medication" as UC6
    usecase "Discontinue Medication" as UC7
    usecase "Delete Medication" as UC8
    usecase "Upload Pill Photo" as UC9
    usecase "Check Drug Interactions" as UC10
    usecase "View Medication History" as UC11
    usecase "Search Medications" as UC12
    usecase "View Medication Details" as UC13
    usecase "Update Schedule" as UC14
    usecase "View Interaction Warnings" as UC15
    usecase "Share Medication List" as UC16
    usecase "Receive Prescription" as UC17
    usecase "Verify Interactions" as UC18
}

' Patient interactions
Patient --> UC1
Patient --> UC2
Patient --> UC3
Patient --> UC4
Patient --> UC5
Patient --> UC6
Patient --> UC7
Patient --> UC8
Patient --> UC9
Patient --> UC10
Patient --> UC11
Patient --> UC12
Patient --> UC13
Patient --> UC14
Patient --> UC15
Patient --> UC16

' Caregiver interactions
Caregiver --> UC1
Caregiver --> UC2
Caregiver --> UC3
Caregiver --> UC4
Caregiver --> UC5
Caregiver --> UC6
Caregiver --> UC11
Caregiver --> UC13

' Healthcare Provider interactions
Provider --> UC2 : "View Only"
Provider --> UC11 : "View Only"
Provider --> UC17
Provider --> UC18

' Pharmacy interactions
Pharmacy --> UC18

' Use case relationships
UC1 ..> UC4 : <<include>>
UC1 ..> UC10 : <<include>>
UC3 ..> UC10 : <<include>>
UC4 ..> UC14 : <<extend>>
UC10 ..> UC15 : <<extend>>
UC17 ..> UC1 : <<include>>

note right of UC1
  When adding a medication,
  system automatically checks
  for drug interactions
end note

note right of UC5
  Pausing suspends reminders
  but preserves medication data
end note

note right of UC7
  Discontinuing stops all
  reminders and archives
  the medication
end note

note bottom of UC10
  Automatic check when:
  - New medication added
  - Medication updated
  - On-demand user request
end note

@enduml
