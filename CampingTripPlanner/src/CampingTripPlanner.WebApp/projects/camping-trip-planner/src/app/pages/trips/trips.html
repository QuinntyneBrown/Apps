<div class="trips">
  <div class="trips__header">
    <h1 class="trips__title">Trips</h1>
  </div>

  <div class="trips__content">
    <div class="trips__list" *ngIf="(trips$ | async) as trips">
      <mat-card *ngFor="let trip of trips" class="trips__card">
        <mat-card-header>
          <mat-card-title class="trips__card-title">
            {{ trip.name }}
            <mat-icon *ngIf="isUpcoming(trip.startDate)" class="trips__status-icon trips__status-icon--upcoming">
              event_upcoming
            </mat-icon>
            <mat-icon *ngIf="isPast(trip.endDate)" class="trips__status-icon trips__status-icon--past">
              event_available
            </mat-icon>
          </mat-card-title>
          <mat-card-subtitle>
            {{ trip.startDate | date }} - {{ trip.endDate | date }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p class="trips__card-info">
            <mat-icon class="trips__card-info-icon">people</mat-icon>
            {{ trip.numberOfPeople }} {{ trip.numberOfPeople === 1 ? 'person' : 'people' }}
          </p>
          <p class="trips__card-notes" *ngIf="trip.notes">
            {{ trip.notes }}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" [routerLink]="['/trips', trip.tripId]">
            View Details
          </button>
        </mat-card-actions>
      </mat-card>

      <div *ngIf="trips.length === 0" class="trips__empty">
        <p>No trips found. Plan your first camping trip!</p>
      </div>
    </div>
  </div>
</div>
