@startuml Nutrition Management - Use Case Diagram

!define PET_OWNER_COLOR #4FC3F7
!define VETERINARIAN_COLOR #81C784
!define SYSTEM_COLOR #FFB74D

left to right direction

' Actors
actor "Pet Owner" as Owner PET_OWNER_COLOR
actor "Veterinarian" as Vet VETERINARIAN_COLOR
actor "System" as System SYSTEM_COLOR

' Use Case Package
rectangle "Nutrition Management System" {

    ' Feeding Schedule Use Cases
    package "Feeding Schedule Management" #E8F5E9 {
        usecase "Set Feeding\nSchedule" as UC1
        usecase "View Feeding\nSchedule" as UC2
        usecase "Edit Feeding\nTimes" as UC3
        usecase "Calculate Portion\nSizes" as UC4
        usecase "Generate Daily\nSchedule" as UC5
    }

    ' Feeding Recording Use Cases
    package "Feeding Tracking" #E1F5FF {
        usecase "Record\nFeeding" as UC6
        usecase "Mark Feeding\nas Missed" as UC7
        usecase "View Feeding\nHistory" as UC8
        usecase "View Today's\nFeedings" as UC9
        usecase "Add Feeding\nNotes" as UC10
    }

    ' Treat Management Use Cases
    package "Treat Management" #FFF9E1 {
        usecase "Record Treat\nGiven" as UC11
        usecase "Set Treat\nAllowance" as UC12
        usecase "Monitor Treat\nAllowance" as UC13
        usecase "View Treat\nHistory" as UC14
        usecase "Alert on Treat\nLimit Exceeded" as UC15
    }

    ' Food Brand Management Use Cases
    package "Food Brand Management" #F3E5F5 {
        usecase "Change Food\nBrand" as UC16
        usecase "Create Transition\nPlan" as UC17
        usecase "Track Transition\nProgress" as UC18
        usecase "View Food Brand\nHistory" as UC19
        usecase "Complete\nTransition" as UC20
    }

    ' Dietary Issue Management Use Cases
    package "Dietary Issue Management" #FFE0E0 {
        usecase "Report Dietary\nIssue" as UC21
        usecase "Update Issue\nStatus" as UC22
        usecase "Analyze Issue\nPatterns" as UC23
        usecase "Correlate with\nFood Changes" as UC24
        usecase "Notify\nVeterinarian" as UC25
        usecase "View Issue\nHistory" as UC26
    }

    ' Reminders & Notifications Use Cases
    package "Reminders & Notifications" #E0F2F1 {
        usecase "Send Feeding\nReminders" as UC27
        usecase "Configure Reminder\nPreferences" as UC28
        usecase "Send Missed Feeding\nAlerts" as UC29
        usecase "Send Treat Limit\nWarnings" as UC30
        usecase "Send Transition\nMilestones" as UC31
    }

    ' Nutrition Analysis Use Cases
    package "Nutrition Analysis & Reporting" #F5F5F5 {
        usecase "Calculate Daily\nCalories" as UC32
        usecase "View Nutrition\nStatistics" as UC33
        usecase "Generate Nutrition\nReport" as UC34
        usecase "Track Weight\nCorrelation" as UC35
        usecase "Calculate Feeding\nCompliance" as UC36
        usecase "Analyze Dietary\nTrends" as UC37
    }
}

' Pet Owner Relationships
Owner --> UC1 : creates
Owner --> UC2 : views
Owner --> UC3 : modifies
Owner --> UC6 : records
Owner --> UC7 : marks
Owner --> UC8 : reviews
Owner --> UC9 : checks
Owner --> UC10 : adds
Owner --> UC11 : records
Owner --> UC12 : sets
Owner --> UC14 : views
Owner --> UC16 : initiates
Owner --> UC17 : creates
Owner --> UC18 : monitors
Owner --> UC19 : reviews
Owner --> UC21 : reports
Owner --> UC22 : updates
Owner --> UC26 : views
Owner --> UC28 : configures
Owner --> UC33 : views
Owner --> UC34 : generates

' Veterinarian Relationships
Vet --> UC1 : recommends
Vet --> UC2 : reviews
Vet --> UC4 : calculates
Vet --> UC8 : reviews
Vet --> UC12 : recommends
Vet --> UC16 : recommends
Vet --> UC21 : receives notification
Vet --> UC22 : updates
Vet --> UC23 : analyzes
Vet --> UC24 : reviews
Vet --> UC26 : reviews
Vet --> UC33 : reviews
Vet --> UC34 : receives
Vet --> UC35 : monitors

' System Relationships
System --> UC5 : generates
System --> UC13 : monitors
System --> UC15 : triggers
System --> UC18 : tracks
System --> UC20 : detects
System --> UC23 : analyzes
System --> UC24 : correlates
System --> UC25 : sends
System --> UC27 : sends
System --> UC29 : sends
System --> UC30 : sends
System --> UC31 : sends
System --> UC32 : calculates
System --> UC35 : tracks
System --> UC36 : calculates
System --> UC37 : analyzes

' Use Case Dependencies and Extensions

' Set Feeding Schedule includes Calculate Portions and Generate Schedule
UC1 ..> UC4 : <<include>>
UC1 ..> UC5 : <<include>>

' View Feeding Schedule includes Generate Schedule
UC2 ..> UC5 : <<include>>

' Record Feeding includes Calculate Daily Calories
UC6 ..> UC32 : <<include>>

' Record Feeding may trigger Missed Feeding Alert
UC6 ..> UC29 : <<extend>>
note on link
    if feeding delayed
end note

' Record Treat includes Monitor Allowance
UC11 ..> UC13 : <<include>>

' Record Treat may trigger Limit Alert
UC11 ..> UC15 : <<extend>>
note on link
    if limit exceeded
end note

' Monitor Treat Allowance triggers Warning
UC13 ..> UC30 : <<extend>>
note on link
    approaching limit
end note

' Change Food Brand includes Create Transition Plan
UC16 ..> UC17 : <<include>>

' Track Transition includes Send Milestones
UC18 ..> UC31 : <<include>>

' Track Transition may Complete Transition
UC18 ..> UC20 : <<extend>>
note on link
    when duration complete
end note

' Report Dietary Issue may Notify Veterinarian
UC21 ..> UC25 : <<extend>>
note on link
    if severe issue
end note

' Analyze Issue Patterns includes Correlate with Food Changes
UC23 ..> UC24 : <<include>>

' Send Feeding Reminders based on Schedule
UC27 ..> UC2 : <<include>>

' Generate Nutrition Report includes multiple sources
UC34 ..> UC33 : <<include>>
UC34 ..> UC36 : <<include>>
UC34 ..> UC32 : <<include>>

' Analyze Dietary Trends uses multiple analyses
UC37 ..> UC23 : <<include>>
UC37 ..> UC35 : <<include>>

' Calculate Feeding Compliance uses Feeding History
UC36 ..> UC8 : <<include>>

' Notes
note right of Owner
    Primary user who manages
    daily nutrition tasks for
    their pets

    Key goals:
    - Maintain feeding schedule
    - Track nutrition intake
    - Monitor treat consumption
    - Identify dietary issues
    - Optimize pet health
end note

note right of Vet
    Provides professional guidance
    on pet nutrition and monitors
    dietary health

    Key goals:
    - Recommend optimal feeding
    - Monitor nutrition compliance
    - Diagnose dietary issues
    - Adjust nutrition plans
    - Receive critical alerts
end note

note bottom of System
    Automated system actor
    that handles:
    - Schedule generation
    - Feeding reminders
    - Treat allowance monitoring
    - Transition tracking
    - Pattern analysis
    - Calorie calculations
end note

note "Critical Feature: Never miss a feeding\nTimely reminders ensure proper nutrition" as N1
note "Health Monitoring: Track dietary issues\nand correlate with food changes" as N2
note "Smart Tracking: Monitor treat allowance\nand maintain balanced nutrition" as N3
note "Transition Support: Gradual food changes\nwith automated tracking and reminders" as N4

' Position notes
N1 .. UC27
N2 .. UC23
N3 .. UC13
N4 .. UC18

@enduml
