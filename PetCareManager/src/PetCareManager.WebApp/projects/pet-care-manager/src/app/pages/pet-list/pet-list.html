<div class="pet-list">
  <div class="pet-list__header">
    <div class="pet-list__title-section">
      <h1 class="pet-list__title">My Pets</h1>
      <button mat-raised-button color="primary">
        <mat-icon>add</mat-icon>
        Add Pet
      </button>
    </div>

    <mat-form-field class="pet-list__search" appearance="outline">
      <mat-label>Search pets...</mat-label>
      <input matInput [formControl]="searchControl" placeholder="Search by name or breed">
      <mat-icon matPrefix>search</mat-icon>
    </mat-form-field>

    <div class="pet-list__filters">
      <mat-chip-listbox>
        <mat-chip-option (click)="filterByType(null)" [selected]="selectedType === null">
          All
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('Dog')" [selected]="selectedType === 'Dog'">
          Dog
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('Cat')" [selected]="selectedType === 'Cat'">
          Cat
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('Bird')" [selected]="selectedType === 'Bird'">
          Bird
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('Fish')" [selected]="selectedType === 'Fish'">
          Fish
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('Reptile')" [selected]="selectedType === 'Reptile'">
          Reptile
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('SmallMammal')" [selected]="selectedType === 'SmallMammal'">
          Small Mammal
        </mat-chip-option>
        <mat-chip-option (click)="filterByType('Other')" [selected]="selectedType === 'Other'">
          Other
        </mat-chip-option>
      </mat-chip-listbox>
    </div>
  </div>

  <ng-container *ngIf="pets$ | async as pets">
    <div class="pet-list__grid" *ngIf="pets.length > 0; else noPets">
      <app-pet-card
        *ngFor="let pet of pets"
        [pet]="pet"
        (edit)="onEdit($event)"
        (delete)="onDelete($event)">
      </app-pet-card>
    </div>

    <ng-template #noPets>
      <div class="pet-list__empty">
        <mat-icon class="pet-list__empty-icon">pets</mat-icon>
        <h2>No pets found</h2>
        <p>Add your first pet to get started!</p>
        <button mat-raised-button color="primary">
          <mat-icon>add</mat-icon>
          Add Pet
        </button>
      </div>
    </ng-template>
  </ng-container>
</div>
