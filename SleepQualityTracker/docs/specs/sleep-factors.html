<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleep Quality Tracker - Sleep Factors</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 24px 32px;
            border-radius: 16px;
            margin-bottom: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .back-btn {
            background: #f7fafc;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .back-btn:hover {
            background: #edf2f7;
            transform: translateX(-2px);
        }

        .header h1 {
            color: #1a202c;
            font-size: 28px;
            font-weight: 700;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
        }

        .card-header {
            margin-bottom: 28px;
        }

        .card-title {
            font-size: 24px;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 8px;
        }

        .card-subtitle {
            font-size: 14px;
            color: #718096;
        }

        .factors-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }

        .factor-card {
            background: #f7fafc;
            border-radius: 16px;
            padding: 24px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .factor-card:hover {
            border-color: #667eea;
            background: white;
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
        }

        .factor-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
        }

        .factor-title-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .factor-icon {
            font-size: 32px;
        }

        .factor-title {
            font-size: 18px;
            font-weight: 700;
            color: #1a202c;
        }

        .correlation-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .correlation-positive {
            background: #d1fae5;
            color: #065f46;
        }

        .correlation-negative {
            background: #fee2e2;
            color: #991b1b;
        }

        .correlation-neutral {
            background: #e0e7ff;
            color: #3730a3;
        }

        .factor-description {
            color: #4a5568;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .correlation-strength {
            margin-bottom: 20px;
        }

        .strength-label {
            font-size: 12px;
            color: #718096;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }

        .strength-bar {
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .strength-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s;
        }

        .factor-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-box {
            background: white;
            padding: 12px;
            border-radius: 8px;
        }

        .stat-label {
            font-size: 11px;
            color: #718096;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: #1a202c;
        }

        .recommendation {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 16px;
            border-radius: 10px;
            border-left: 4px solid #f59e0b;
        }

        .recommendation-title {
            font-size: 13px;
            font-weight: 700;
            color: #78350f;
            margin-bottom: 6px;
        }

        .recommendation-text {
            font-size: 13px;
            color: #92400e;
            line-height: 1.5;
        }

        .environment-section {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        .env-card {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .env-icon {
            font-size: 40px;
            margin-bottom: 12px;
        }

        .env-title {
            font-size: 14px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 12px;
        }

        .env-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 4px;
        }

        .env-label {
            font-size: 11px;
            color: #718096;
        }

        .env-range {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 2px solid #e5e7eb;
            font-size: 11px;
            color: #4a5568;
        }

        .insights-box {
            background: linear-gradient(135deg, #e0e7ff 0%, #ddd6fe 100%);
            padding: 24px;
            border-radius: 12px;
            margin-top: 24px;
        }

        .insights-title {
            font-size: 18px;
            font-weight: 700;
            color: #4c1d95;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .insight-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .insight-item {
            background: rgba(255, 255, 255, 0.7);
            padding: 14px;
            border-radius: 8px;
            display: flex;
            align-items: start;
            gap: 12px;
        }

        .insight-bullet {
            font-size: 20px;
            line-height: 1;
        }

        .insight-text {
            color: #5b21b6;
            font-size: 14px;
            line-height: 1.6;
        }

        .timeline-view {
            margin-top: 28px;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .timeline-title {
            font-size: 16px;
            font-weight: 700;
            color: #1a202c;
        }

        .timeline-filter {
            display: flex;
            gap: 8px;
        }

        .filter-btn {
            padding: 6px 12px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .timeline-chart {
            height: 200px;
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: flex-end;
            gap: 4px;
        }

        .timeline-bar {
            flex: 1;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 4px 4px 0 0;
            transition: all 0.3s;
            cursor: pointer;
        }

        .timeline-bar:hover {
            opacity: 0.7;
        }

        @media (max-width: 1024px) {
            .factors-grid {
                grid-template-columns: 1fr;
            }

            .environment-section {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <button class="back-btn">‚Üê</button>
                <h1>üîç Sleep Factors Analysis</h1>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Habit & Lifestyle Correlations</h2>
                <p class="card-subtitle">AI-powered analysis of factors affecting your sleep quality (Based on 30 days of data)</p>
            </div>

            <div class="factors-grid">
                <div class="factor-card">
                    <div class="factor-header">
                        <div class="factor-title-group">
                            <div class="factor-icon">‚òï</div>
                            <div class="factor-title">Caffeine Intake</div>
                        </div>
                        <div class="correlation-badge correlation-negative">-32% Impact</div>
                    </div>

                    <div class="factor-description">
                        Late afternoon/evening caffeine consumption shows strong negative correlation with sleep quality.
                        Each cup after 2 PM reduces sleep score by an average of 8 points.
                    </div>

                    <div class="correlation-strength">
                        <div class="strength-label">
                            <span>Correlation Strength</span>
                            <span>Strong</span>
                        </div>
                        <div class="strength-bar">
                            <div class="strength-fill" style="width: 82%; background: linear-gradient(90deg, #ef4444, #dc2626);"></div>
                        </div>
                    </div>

                    <div class="factor-stats">
                        <div class="stat-box">
                            <div class="stat-label">AVG WITH CAFFEINE</div>
                            <div class="stat-value">62</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">AVG WITHOUT</div>
                            <div class="stat-value">82</div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-title">üí° Recommendation</div>
                        <div class="recommendation-text">
                            Avoid caffeine after 2:00 PM. Your data shows caffeine has a half-life of 5-6 hours in your system.
                        </div>
                    </div>
                </div>

                <div class="factor-card">
                    <div class="factor-header">
                        <div class="factor-title-group">
                            <div class="factor-icon">üèÉ</div>
                            <div class="factor-title">Exercise</div>
                        </div>
                        <div class="correlation-badge correlation-positive">+28% Impact</div>
                    </div>

                    <div class="factor-description">
                        Morning and afternoon exercise strongly correlates with improved sleep quality.
                        Best results when exercising 4-6 hours before bedtime.
                    </div>

                    <div class="correlation-strength">
                        <div class="strength-label">
                            <span>Correlation Strength</span>
                            <span>Strong</span>
                        </div>
                        <div class="strength-bar">
                            <div class="strength-fill" style="width: 78%; background: linear-gradient(90deg, #22c55e, #16a34a);"></div>
                        </div>
                    </div>

                    <div class="factor-stats">
                        <div class="stat-box">
                            <div class="stat-label">WITH EXERCISE</div>
                            <div class="stat-value">81</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">WITHOUT</div>
                            <div class="stat-value">68</div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-title">üí° Recommendation</div>
                        <div class="recommendation-text">
                            Optimal timing: 2:00-6:00 PM. Avoid intense exercise within 3 hours of bedtime.
                        </div>
                    </div>
                </div>

                <div class="factor-card">
                    <div class="factor-header">
                        <div class="factor-title-group">
                            <div class="factor-icon">üì±</div>
                            <div class="factor-title">Screen Time</div>
                        </div>
                        <div class="correlation-badge correlation-negative">-25% Impact</div>
                    </div>

                    <div class="factor-description">
                        Screen exposure within 1 hour of bedtime significantly increases sleep latency
                        and reduces deep sleep percentage by 15%.
                    </div>

                    <div class="correlation-strength">
                        <div class="strength-label">
                            <span>Correlation Strength</span>
                            <span>Very Strong</span>
                        </div>
                        <div class="strength-bar">
                            <div class="strength-fill" style="width: 87%; background: linear-gradient(90deg, #ef4444, #dc2626);"></div>
                        </div>
                    </div>

                    <div class="factor-stats">
                        <div class="stat-box">
                            <div class="stat-label">WITH SCREENS</div>
                            <div class="stat-value">65</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">NO SCREENS</div>
                            <div class="stat-value">84</div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-title">üí° Recommendation</div>
                        <div class="recommendation-text">
                            Implement a digital curfew 1 hour before bed. Use blue light filters after 8 PM.
                        </div>
                    </div>
                </div>

                <div class="factor-card">
                    <div class="factor-header">
                        <div class="factor-title-group">
                            <div class="factor-icon">üç∑</div>
                            <div class="factor-title">Alcohol</div>
                        </div>
                        <div class="correlation-badge correlation-negative">-18% Impact</div>
                    </div>

                    <div class="factor-description">
                        Alcohol consumption reduces REM sleep quality and increases nighttime awakenings,
                        despite potentially reducing sleep onset time.
                    </div>

                    <div class="correlation-strength">
                        <div class="strength-label">
                            <span>Correlation Strength</span>
                            <span>Moderate</span>
                        </div>
                        <div class="strength-bar">
                            <div class="strength-fill" style="width: 65%; background: linear-gradient(90deg, #f59e0b, #d97706);"></div>
                        </div>
                    </div>

                    <div class="factor-stats">
                        <div class="stat-box">
                            <div class="stat-label">WITH ALCOHOL</div>
                            <div class="stat-value">67</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">WITHOUT</div>
                            <div class="stat-value">78</div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-title">üí° Recommendation</div>
                        <div class="recommendation-text">
                            Limit to 1 drink and finish 3+ hours before bedtime to minimize sleep disruption.
                        </div>
                    </div>
                </div>

                <div class="factor-card">
                    <div class="factor-header">
                        <div class="factor-title-group">
                            <div class="factor-icon">üçΩÔ∏è</div>
                            <div class="factor-title">Late Meals</div>
                        </div>
                        <div class="correlation-badge correlation-negative">-15% Impact</div>
                    </div>

                    <div class="factor-description">
                        Heavy meals within 2 hours of bedtime delay sleep onset and reduce sleep efficiency.
                        Light snacks show minimal impact.
                    </div>

                    <div class="correlation-strength">
                        <div class="strength-label">
                            <span>Correlation Strength</span>
                            <span>Moderate</span>
                        </div>
                        <div class="strength-bar">
                            <div class="strength-fill" style="width: 58%; background: linear-gradient(90deg, #f59e0b, #d97706);"></div>
                        </div>
                    </div>

                    <div class="factor-stats">
                        <div class="stat-box">
                            <div class="stat-label">LATE HEAVY MEAL</div>
                            <div class="stat-value">69</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">EARLY DINNER</div>
                            <div class="stat-value">79</div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-title">üí° Recommendation</div>
                        <div class="recommendation-text">
                            Finish dinner 3 hours before bed. If hungry, opt for light snacks like bananas or nuts.
                        </div>
                    </div>
                </div>

                <div class="factor-card">
                    <div class="factor-header">
                        <div class="factor-title-group">
                            <div class="factor-icon">üò∞</div>
                            <div class="factor-title">Stress Level</div>
                        </div>
                        <div class="correlation-badge correlation-negative">-22% Impact</div>
                    </div>

                    <div class="factor-description">
                        High stress days show reduced deep sleep, increased sleep latency, and more frequent awakenings
                        throughout the night.
                    </div>

                    <div class="correlation-strength">
                        <div class="strength-label">
                            <span>Correlation Strength</span>
                            <span>Strong</span>
                        </div>
                        <div class="strength-bar">
                            <div class="strength-fill" style="width: 72%; background: linear-gradient(90deg, #ef4444, #dc2626);"></div>
                        </div>
                    </div>

                    <div class="factor-stats">
                        <div class="stat-box">
                            <div class="stat-label">HIGH STRESS</div>
                            <div class="stat-value">64</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">LOW STRESS</div>
                            <div class="stat-value">80</div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-title">üí° Recommendation</div>
                        <div class="recommendation-text">
                            Practice evening relaxation: meditation, reading, or light stretching 30-60 minutes before bed.
                        </div>
                    </div>
                </div>
            </div>

            <div class="insights-box">
                <div class="insights-title">üí° Key Insights & Action Plan</div>
                <div class="insight-list">
                    <div class="insight-item">
                        <div class="insight-bullet">1Ô∏è‚É£</div>
                        <div class="insight-text">
                            <strong>Biggest Impact:</strong> Reducing screen time before bed and avoiding late caffeine
                            could improve your sleep score by up to 15 points based on your patterns.
                        </div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-bullet">2Ô∏è‚É£</div>
                        <div class="insight-text">
                            <strong>Best Habit:</strong> Continue your afternoon exercise routine (2-6 PM) - this is
                            your strongest positive factor for quality sleep.
                        </div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-bullet">3Ô∏è‚É£</div>
                        <div class="insight-text">
                            <strong>Quick Win:</strong> Implementing a 9:30 PM digital curfew on weeknights could add
                            30-45 minutes of deep sleep based on correlation data.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Sleep Environment Factors</h2>
                <p class="card-subtitle">Optimal conditions based on your sleep data</p>
            </div>

            <div class="environment-section">
                <div class="env-card">
                    <div class="env-icon">üå°Ô∏è</div>
                    <div class="env-title">Temperature</div>
                    <div class="env-value">67¬∞F</div>
                    <div class="env-label">Optimal</div>
                    <div class="env-range">Your range: 65-69¬∞F</div>
                </div>

                <div class="env-card">
                    <div class="env-icon">üîá</div>
                    <div class="env-title">Noise Level</div>
                    <div class="env-value">Quiet</div>
                    <div class="env-label">Optimal</div>
                    <div class="env-range">Below 40 dB</div>
                </div>

                <div class="env-card">
                    <div class="env-icon">üí°</div>
                    <div class="env-title">Light Level</div>
                    <div class="env-value">Dark</div>
                    <div class="env-label">Optimal</div>
                    <div class="env-range">Complete darkness</div>
                </div>

                <div class="env-card">
                    <div class="env-icon">üíß</div>
                    <div class="env-title">Humidity</div>
                    <div class="env-value">45%</div>
                    <div class="env-label">Optimal</div>
                    <div class="env-range">Your range: 40-50%</div>
                </div>
            </div>

            <div class="timeline-view">
                <div class="timeline-header">
                    <div class="timeline-title">Environment Impact Over Time</div>
                    <div class="timeline-filter">
                        <button class="filter-btn">Temperature</button>
                        <button class="filter-btn active">Noise</button>
                        <button class="filter-btn">Light</button>
                    </div>
                </div>
                <div class="timeline-chart">
                    <div class="timeline-bar" style="height: 85%;"></div>
                    <div class="timeline-bar" style="height: 88%;"></div>
                    <div class="timeline-bar" style="height: 82%;"></div>
                    <div class="timeline-bar" style="height: 78%;"></div>
                    <div class="timeline-bar" style="height: 65%;"></div>
                    <div class="timeline-bar" style="height: 70%;"></div>
                    <div class="timeline-bar" style="height: 92%;"></div>
                    <div class="timeline-bar" style="height: 90%;"></div>
                    <div class="timeline-bar" style="height: 87%;"></div>
                    <div class="timeline-bar" style="height: 85%;"></div>
                    <div class="timeline-bar" style="height: 88%;"></div>
                    <div class="timeline-bar" style="height: 91%;"></div>
                    <div class="timeline-bar" style="height: 89%;"></div>
                    <div class="timeline-bar" style="height: 86%;"></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>